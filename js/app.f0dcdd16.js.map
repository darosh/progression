{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?b830","webpack:///./src/components/Inversion.vue?8daa","webpack:///./src/components/Settings.vue?1781","webpack:///./src/App.vue?642f","webpack:///./src/views/Home.vue?c800","webpack:///./src/components/Chart.vue?3bb6","webpack:///./src/components/Inversion.vue?c21a","webpack:///src/components/Inversion.vue","webpack:///./src/components/Inversion.vue?5444","webpack:///./src/components/Inversion.vue","webpack:///./src/components/Recent.vue?6336","webpack:///./src/components/Chord.vue?499f","webpack:///src/components/Chord.vue","webpack:///./src/components/Chord.vue?9d1a","webpack:///./src/components/Chord.vue","webpack:///./src/utils/chord.js","webpack:///./src/utils/format.js","webpack:///src/components/Recent.vue","webpack:///./src/components/Recent.vue?23b7","webpack:///./src/components/Recent.vue","webpack:///./src/utils/link.js","webpack:///./src/utils/draw.js","webpack:///src/components/Chart.vue","webpack:///./src/components/Chart.vue?9ed6","webpack:///./src/components/Chart.vue","webpack:///./src/components/Keyboard.vue?7b12","webpack:///src/components/Keyboard.vue","webpack:///./src/components/Keyboard.vue?68fd","webpack:///./src/components/Keyboard.vue","webpack:///./src/components/Settings.vue?9bab","webpack:///./src/data/major.js","webpack:///./src/data/minor.js","webpack:///./src/data/major-degrees.js","webpack:///./src/data/minor-degrees.js","webpack:///./src/data/blues-8.js","webpack:///./src/data/blues-12.js","webpack:///./src/data/frozen.js","webpack:///./src/components/Global.js","webpack:///./src/utils/sync.js","webpack:///./src/components/Settable.js","webpack:///./src/utils/register.js","webpack:///./src/utils/midi.js","webpack:///src/components/Settings.vue","webpack:///./src/components/Settings.vue?8b1d","webpack:///./src/components/Settings.vue","webpack:///./src/data/groups.js","webpack:///./src/utils/pianoCdn.js","webpack:///./src/utils/piano.js","webpack:///./src/utils/structure.ts","webpack:///./src/utils/structure-chord.ts","webpack:///./src/utils/structure-chord-ops.ts","webpack:///./src/utils/structure-extra.ts","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?fe98","webpack:///./src/views/Home.vue","webpack:///src/App.vue","webpack:///./src/App.vue?e06e","webpack:///./src/App.vue","webpack:///./src/plugins/vuetify.ts","webpack:///./src/main.ts","webpack:///./src/components/Chart.vue?6497","webpack:///./src/components/Keyboard.vue?ee2e","webpack:///./src/components/Recent.vue?d9e0"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","ref","attrs","mbp","isFull","$vuetify","breakpoint","width","theme","dark","model","callback","$$v","showMenu","expression","staticClass","staticStyle","_v","class","on","$event","style","visibility","playStatus","loading","piano","_e","borderRadius","_b","hide","margin","visible","height","inversions","inversion","format","nodeWidth","activate","recentCount","play","graphProps","full","domProps","_s","$refs","chart","recent","highlight","pause","animate","pads","stopPropagation","onGlobalTouch","onMouseUp","_l","map","rippleColor","path","lastNode","y1","y0","x0","radius","graph","link","active","stroke","source","extra","color","node","alias","lastEnterName","fill","id","onEnter","onTouchStart","onTouchEnd","preventDefault","onMouseDown","altRadius","Math","max","alt","index","altsTranslate","altColor","floor","simpleFormat","inversionPad","top","bottom","left","$emit","lastRecent","right","onMove","reverse","v","text","distance","size","props","Array","required","Number","String","space","Boolean","default","computed","addEventListener","onKeyDown","removeEventListener","methods","toLowerCase","indexOf","find","x","touches","clientX","y","clientY","h","component","fontSize","opacity","$parent","formatNumber","part","keyName","fontWeight","primary","secondary","post","parts","intervalNames","names","parseChord","romanChord","note","octave","chordInterval","coordToInterval","encode","parseBass","chordType","bass","acc","chordName","transpose","normalizeChordType","chordData","chord","chordIntervals","intervals","interval","add","bassInterval","getBassInterval","invertToBass","trans","transposeNote","intervalsToMidi","midi","includes","reorderToInversion","bassIntervalOctave","bassIntervalData","firstIntervalData","adjustedBassInterval","semitones","substract","unshift","item","split","parsedBass","parseInt","replace","lastMidis","invert","midis","toMidi","automatic","invertMidi","midiToNoteName","sign","first","last","pop","lastMax","currentMax","dist","replaceSigns","replaceType","formatRoman","romanNumeral","roman","pre","formatTransposed","baseNote","bassText","transposeFormatTransposed","simplify","Infinity","abs","keys","components","XChord","items","Function","onKeyUp","isNaN","horizontalSource","x1","horizontalTarget","linkHorizontal","draw","sanGraph","nodeSize","iterations","nodePad","w","toPads","san","sankey","nodePadding","nodeAlign","sankeyRight","extent","sankeyLinkHorizontal","adjustAlts","nodes","vertical","alts","links","nw","sort","a","b","step","localeCompare","cols","rows","ceil","forEach","round","sourceLinks","targetLinks","lastEnter","lastPlayed","lazyDraw","lazyDrawOrNot","Date","now","watch","graphValues","handler","immediate","cancel","cancelable","ripple","nodeCenter","mouse","getAttribute","aid","lp","obj","d3","min","_obj","className","KEYSHAPES","NATURAL_WIDTH","NATURAL_HEIGHT","SHARP_WIDTH","SHARP_HEIGHT","start","notes","isActive","position","wasSharp","shape","progressionTypes","some","progressionType","scopedSlots","_u","fn","_g","rootOctave","octaves","rootPitch","sin","pitches","PI","cos","accidentals","layoutPads","chartBass","chartSimple","$set","channels","assign","proxy","initMidi","midiStatus","midiOutput","outputs","output","1","group","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","joints","values","pro","freeze","major","frozen","minor","majorDegrees","minorDegrees","blues8","blues12","defaultChannels","mid","voice","channel","velocity","rootAccidental","volume","progressionTypesMore","Vue","sync","global","set","syncAll","reduce","rootNote","rootNoteOctave","store","register","unregister","stopping","filter","releasing","fail","initialized","bindMethods","Register","getMidiPlay","playNote","rawVelocity","stop","releasedNotes","stopNote","enable","WebMidi","release","mix","mixChannels","velocities","playChannel","toStop","array","getChannelNotesVolumes","channelGroups","numericEntries","groupByChannel","groupByVelocity","groupByNote","filterLoudest","groupBy","entries","singleChannel","mixins","Settable","VBtn","VBtnToggle","VCard","VCheckbox","VDivider","VFlex","VIcon","VList","VListItem","VListItemAction","VListItemTitle","VMenu","VProgressCircular","VRow","VSimpleTable","VTextField","groups","pianoCdn","Tone","ToneAudioBuffer","supportsType","_pedal","samples","cdn","_internalLoad","_buffers","ToneAudioBuffers","down1","down2","up1","up2","_keybed","toType","_urls","_harmonics","string","_strings","urls","encodeURIComponent","pkg","matchAll","next","initialize","Piano","pedal","toDestination","load","ready","pianoPlay","keyDown","keyUp","time","toList","dic","setNode","getNode","delNode","parents","children","insert","from","to","linkUnique","unlink","linkById","getRoots","floodDepth","resetDepths","floodDepthNode","depth","removeNode","deep","parent","child","mergeNodes","remove","joinNodes","getChildren","addAll","sources","toString","linkAll","linkId","removeBass","groupByNameAlt","join","toBeGrouped","g","canMergeGroup","mergeGroups","mergeGroup","maxDepth","joinAllNodes","shapes","mapExtra","toSankeyLinks","toSankey","innerWidth","fullChanged","onVisibility","visibilityState","mergingCandidates","mergingGroups","list","fullscreenElement","exitFullscreen","$el","requestFullscreen","VApp","VContainer","VContent","VNavigationDrawer","VSpacer","use","icons","iconfont","themes","accent","light","config","productionTip","vuetify","App","$mount"],"mappings":"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","file":"js/app.f0dcdd16.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-46475520\":\"e293309c\",\"chunk-2d20f7a4\":\"252f9061\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/.pnpm/registry.npmjs.org/mini-css-extract-plugin/0.8.0_webpack@4.41.2/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/.pnpm/registry.npmjs.org/css-loader/1.0.1_webpack@4.41.2/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/.pnpm/registry.npmjs.org/postcss-loader/3.0.0/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/.pnpm/registry.npmjs.org/mini-css-extract-plugin/0.8.0_webpack@4.41.2/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/.pnpm/registry.npmjs.org/css-loader/1.0.1_webpack@4.41.2/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/.pnpm/registry.npmjs.org/postcss-loader/3.0.0/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/.pnpm/registry.npmjs.org/mini-css-extract-plugin/0.8.0_webpack@4.41.2/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/.pnpm/registry.npmjs.org/css-loader/1.0.1_webpack@4.41.2/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.pnpm/registry.npmjs.org/postcss-loader/3.0.0/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Inversion.vue?vue&type=style&index=0&id=51a6b995&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/.pnpm/registry.npmjs.org/mini-css-extract-plugin/0.8.0_webpack@4.41.2/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/.pnpm/registry.npmjs.org/css-loader/1.0.1_webpack@4.41.2/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.pnpm/registry.npmjs.org/postcss-loader/3.0.0/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Inversion.vue?vue&type=style&index=0&id=51a6b995&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/.pnpm/registry.npmjs.org/mini-css-extract-plugin/0.8.0_webpack@4.41.2/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/.pnpm/registry.npmjs.org/css-loader/1.0.1_webpack@4.41.2/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.pnpm/registry.npmjs.org/postcss-loader/3.0.0/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&id=4cc798e4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/.pnpm/registry.npmjs.org/mini-css-extract-plugin/0.8.0_webpack@4.41.2/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/.pnpm/registry.npmjs.org/css-loader/1.0.1_webpack@4.41.2/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.pnpm/registry.npmjs.org/postcss-loader/3.0.0/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&id=4cc798e4&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('x-home')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{ref:\"full\"},[_c('v-navigation-drawer',{attrs:{\"mobile-break-point\":_vm.mbp,\"temporary\":_vm.isFull,\"hide-overlay\":\"\",\"app\":\"\",\"width\":_vm.$vuetify.breakpoint.width > 1200 ? 368 : 240,\"color\":_vm.$vuetify.theme.dark ? 'grey darken-4' : 'grey lighten-4'},model:{value:(_vm.showMenu),callback:function ($$v) {_vm.showMenu=$$v},expression:\"showMenu\"}},[_c('x-settings'),_c('v-row',{staticClass:\"py-5\",staticStyle:{\"opacity\":\"0.6\"},attrs:{\"no-gutters\":\"\",\"justify\":\"center\",\"align\":\"center\"}},[_c('span',{staticClass:\"mx-3\"},[_vm._v(\"\\n        Made in Brno, 2019, \"),_c('a',{attrs:{\"href\":\"https://github.com/darosh/progression\"}},[_vm._v(\"GitHub\")])])])],1),_c('v-content',[_c('v-container',{class:{'pa-5': (!_vm.isFull && _vm.$vuetify.breakpoint.width > 800), 'pa-0 black': !(!_vm.isFull && _vm.$vuetify.breakpoint.width > 800)},attrs:{\"fluid\":\"\"}},[(!_vm.isFull && _vm.$vuetify.breakpoint.width > 800)?_c('v-row',{staticClass:\"pb-5\",attrs:{\"no-gutters\":\"\",\"align\":\"center\"}},[_c('v-btn',{attrs:{\"fab\":\"\",\"depressed\":\"\",\"color\":\"transparent\"},on:{\"click\":function($event){_vm.showMenu = !_vm.showMenu}}},[_c('v-icon',[_vm._v(\"mdi-menu\")])],1),_c('span',{staticClass:\"title ml-5\"},[_vm._v(\"Progression\")]),_c('v-spacer'),_c('v-row',{staticClass:\"mx-1\",staticStyle:{\"position\":\"relative\"}},[_c('v-spacer'),_c('v-flex'),_c('x-keyboard',{staticClass:\"d-block\",style:({visibility: _vm.playStatus.loading ? 'hidden' : null}),attrs:{\"notes\":_vm.piano,\"start\":36,\"length\":61,\"no-gutters\":\"\"}}),(_vm.playStatus.loading)?_c('div',{staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"right\":\"0\",\"opacity\":\"0.87\"}},[_c('v-progress-circular',{staticClass:\"mr-2\",attrs:{\"indeterminate\":\"\",\"size\":48-3,\"width\":6,\"color\":\"accent\"}}),_c('i',[_vm._v(\"Loading sounds...\")])],1):_vm._e()],1)],1):_vm._e(),_c('v-row',{attrs:{\"no-gutters\":\"\",\"justify\":\"center\"}},[_c('v-card',{style:({borderRadius: (!_vm.isFull && _vm.$vuetify.breakpoint.width > 800) ? '24px' : 0}),attrs:{\"color\":_vm.$vuetify.theme.dark ? 'grey darken-4' : null,\"elevation\":\"1\"}},[_c('div',{staticStyle:{\"overflow-x\":\"auto\"}},[_c('x-chart',_vm._b({ref:\"chart\",staticClass:\"d-block\",style:({visibility: _vm.hide ? 'hidden' : null}),attrs:{\"margin\":_vm.margin,\"animate\":_vm.visible,\"width\":_vm.width,\"height\":_vm.height,\"inversions\":_vm.inversions,\"inversion\":_vm.inversion,\"dark\":_vm.$vuetify.theme.dark,\"format\":_vm.format(),\"node-size\":_vm.nodeWidth},on:{\"update:inversion\":function($event){_vm.inversion=$event},\"enter\":function($event){return _vm.activate($event, true)},\"leave\":function($event){return _vm.activate($event, false)},\"update:recent\":function($event){_vm.recentCount = $event},\"attack\":_vm.play,\"release\":function($event){return _vm.play($event, true)}}},'x-chart',_vm.graphProps,false))],1),_c('div',{staticClass:\"pa-2\",staticStyle:{\"position\":\"absolute\",\"bottom\":\"0\",\"left\":\"0\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"large\":\"\"},on:{\"click\":_vm.full}},[_c('v-icon',{domProps:{\"textContent\":_vm._s(\"mdi-fullscreen\")}})],1)],1),(_vm.isFull || (_vm.$vuetify.breakpoint.width <= 800))?_c('div',{staticClass:\"pa-2\",staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"large\":\"\"},on:{\"click\":function($event){_vm.showMenu = !_vm.showMenu}}},[_c('v-icon',{domProps:{\"textContent\":_vm._s(\"mdi-menu\")}})],1)],1):_vm._e(),(_vm.recentCount)?_c('div',{staticClass:\"pa-2\",staticStyle:{\"position\":\"absolute\",\"bottom\":\"0\",\"right\":\"0\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"large\":\"\"},on:{\"click\":function($event){_vm.$refs.chart.recent = []; _vm.recentCount = 0}}},[_c('v-icon',{domProps:{\"textContent\":_vm._s(\"mdi-close\")}})],1)],1):_vm._e()])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{ref:\"chart\",class:{dark: _vm.dark, highlight: _vm.highlight, pause: !_vm.animate, pads: _vm.pads},attrs:{\"width\":_vm.width,\"height\":_vm.height},on:{\"touchstart\":function($event){$event.stopPropagation();return _vm.onGlobalTouch($event)},\"mousedown\":function($event){$event.stopPropagation();_vm.highlight = false},\"mouseup\":function($event){$event.stopPropagation();return _vm.onMouseUp($event, null)}}},[_c('defs',[_c('marker',{attrs:{\"id\":\"end-marker\",\"markerWidth\":\"2\",\"markerHeight\":\"2\",\"orient\":\"auto\",\"refY\":\"0.8\",\"refX\":\"-0.4\"}},[_c('path',{attrs:{\"d\":\"M0,0 L2,0.8 0,2\",\"fill-opacity\":\"0.16\"}})]),_c('marker',{attrs:{\"id\":\"start-marker\",\"markerWidth\":\"2\",\"markerHeight\":\"2\",\"orient\":\"auto\",\"refY\":\"1\",\"refX\":\"2\"}},[_c('circle',{attrs:{\"r\":\"0.9\",\"cx\":\"1\",\"cy\":\"1\",\"fill-opacity\":\"0.16\"}})]),_c('radialGradient',{attrs:{\"id\":\"gradient\"}},[_c('stop',{attrs:{\"offset\":0,\"stop-color\":\"transparent\"}}),_vm._l(([1, 2.7, 4.7, 6.7].map(function (d) { return d / 7; })),function(s,key){return [_c('stop',{key:(key + \"a\"),attrs:{\"offset\":s - 0.035,\"stop-color\":\"transparent\"}}),_c('stop',{key:(key + \"b\"),attrs:{\"offset\":s - 0.029,\"stop-color\":_vm.rippleColor}}),_c('stop',{key:(key + \"c\"),attrs:{\"offset\":s + 0.029,\"stop-color\":_vm.rippleColor}}),_c('stop',{key:(key + \"d\"),attrs:{\"offset\":s + 0.035,\"stop-color\":\"transparent\"}})]}),_c('stop',{attrs:{\"offset\":1,\"stop-color\":\"transparent\"}})],2),_c('symbol',{attrs:{\"id\":\"ripply-scott\",\"viewBox\":\"0 0 100 100\"}},[_c('circle',{attrs:{\"fill\":\"url(#gradient)\",\"cx\":\"1\",\"cy\":\"1\",\"r\":\"1\"}})])],1),(!!_vm.path)?_c('g',[_c('clipPath',{attrs:{\"id\":\"clipping\"}},[(_vm.lastNode)?_c('rect',{attrs:{\"height\":_vm.lastNode.y1 - _vm.lastNode.y0,\"width\":_vm.nodeWidth,\"transform\":(\"translate(\" + ([_vm.lastNode.x0, _vm.lastNode.y0]) + \")\"),\"rx\":_vm.radius(_vm.lastNode),\"ry\":_vm.radius(_vm.lastNode)}}):_vm._e()]),_c('g',{staticClass:\"links\"},_vm._l((_vm.graph.links),function(link,key){return _c('path',{key:key,staticClass:\"link\",class:{active: link.active},style:({stroke: _vm.stroke(link.source.extra.color)}),attrs:{\"marker-start\":\"url(#start-marker)\",\"marker-end\":\"url(#end-marker)\",\"d\":_vm.path(link)}})}),0),_c('g',_vm._l((_vm.graph.nodes),function(node,key){return _c('g',{key:key,staticClass:\"node\",class:{active: node.extra.active, alias: _vm.lastEnterName === node.data.name},attrs:{\"transform\":(\"translate(\" + ([node.x0, node.y0]) + \")\")}},[_c('rect',{style:({fill: node.extra.color, stroke: _vm.stroke(node.extra.color)}),attrs:{\"data-cid\":node.id,\"height\":node.y1 - node.y0,\"width\":_vm.nodeWidth,\"rx\":_vm.radius(node),\"ry\":_vm.radius(node)},on:{\"mouseenter\":function($event){return _vm.onEnter(node)},\"touchstart\":function($event){$event.stopPropagation();return _vm.onTouchStart($event, {node: node})},\"touchend\":function($event){$event.stopPropagation();return _vm.onTouchEnd($event, {node: node})},\"mousedown\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onMouseDown($event, {node: node})},\"mouseup\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onMouseUp($event, {node: node})}}}),_c('x-chord',{attrs:{\"secondary\":_vm.altRadius - 4,\"post\":_vm.altRadius - 2,\"y\":(node.y1 - node.y0) / 2,\"x\":_vm.nodeWidth / 2,\"font-size\":Math.max(_vm.altRadius, 14),\"parts\":_vm.format(node)}}),_vm._l((node.extra.alts),function(alt,index){return _c('g',{key:alt,staticClass:\"alt\",attrs:{\"transform\":(\"translate(\" + (node.extra.altsTranslate[index]) + \")\")}},[_c('circle',{style:({fill: _vm.altColor(node.extra.color)}),attrs:{\"r\":_vm.altRadius,\"data-aid\":alt},on:{\"mouseenter\":function($event){return _vm.onEnter(node)},\"touchstart\":function($event){$event.stopPropagation();return _vm.onTouchStart($event, {node: node, alt: alt})},\"touchend\":function($event){$event.stopPropagation();return _vm.onTouchEnd($event, {node: node, alt: alt})},\"mousedown\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onMouseDown($event, {node: node, alt: alt})},\"mouseup\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onMouseUp($event, {node: node, alt: alt})}}}),_c('text',{attrs:{\"dominant-baseline\":\"central\",\"font-size\":alt.length > 3 ? Math.floor(_vm.altRadius * 0.7) - 2 : Math.floor(_vm.altRadius * 0.8),\"text-anchor\":\"middle\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.simpleFormat(alt))+\"\\n          \")])])})],2)}),0)]):_vm._e(),_c('g',{attrs:{\"clip-path\":\"url(#clipping)\"}},[_c('use',{ref:\"ripple\",staticStyle:{\"pointer-events\":\"none\"},attrs:{\"height\":\"100\",\"width\":\"100\",\"xlink:href\":\"#ripply-scott\"}})]),_c('x-inversion',{attrs:{\"width\":_vm.inversionPad,\"height\":_vm.height - _vm.margin.top - _vm.margin.bottom - 32 * 2,\"space\":_vm.margin.left / 2,\"inversions\":_vm.inversions,\"value\":_vm.inversion,\"transform\":(\"translate(\" + ([_vm.margin.left / 2, _vm.margin.top + 32]) + \")\")},on:{\"update:value\":function (value) { return _vm.$emit('update:inversion', value); }}}),_c('x-recent',{attrs:{\"width\":_vm.inversionPad * 1.5,\"height\":_vm.height - _vm.margin.top / 2 - _vm.margin.bottom - 32,\"space\":_vm.margin.left / 2,\"items\":_vm.recent,\"dark\":_vm.dark,\"format\":_vm.format,\"value\":_vm.lastRecent,\"transform\":(\"translate(\" + ([_vm.width - _vm.inversionPad * 1.5 - _vm.margin.right / 2, _vm.margin.top / 2]) + \")\")}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',{ref:\"root\",class:{dark: _vm.dark},on:{\"touchmove\":function($event){$event.stopPropagation();return _vm.onMove($event)}}},_vm._l((_vm.inversions.slice().reverse()),function(ref,index){\nvar v = ref.value;\nvar text = ref.text;\nreturn _c('g',{key:v,class:{active: _vm.value === v},attrs:{\"transform\":(\"translate(\" + ([0, index * _vm.distance]) + \")\")}},[_c('rect',{attrs:{\"width\":_vm.width,\"height\":_vm.size,\"rx\":\"8\",\"ry\":\"8\"},on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.$emit('update:value', v)},\"mouseup\":function($event){$event.stopPropagation();},\"touchstart\":function($event){$event.stopPropagation();return _vm.$emit('update:value', v)},\"touchend\":function($event){$event.stopPropagation();}}}),_c('text',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"fill\":\"rgba(0,0,0,0.6)\",\"dominant-baseline\":\"central\",\"x\":_vm.width/2,\"y\":_vm.size/2,\"text-anchor\":\"middle\",\"font-size\":_vm.width * 0.4},domProps:{\"textContent\":_vm._s(text)}})])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <g\r\n    ref=\"root\"\r\n    :class=\"{dark: dark}\"\r\n    @touchmove.stop=\"onMove\">\r\n    <g\r\n      v-for=\"({value: v, text}, index) in inversions.slice().reverse()\"\r\n      :key=\"v\"\r\n      :class=\"{active: value === v}\"\r\n      :transform=\"`translate(${[0, index * distance]})`\">\r\n      <rect\r\n        :width=\"width\"\r\n        :height=\"size\"\r\n        rx=\"8\"\r\n        ry=\"8\"\r\n        @mousedown.stop=\"$emit('update:value', v)\"\r\n        @mouseup.stop=\"\"\r\n        @touchstart.stop=\"$emit('update:value', v)\"\r\n        @touchend.stop=\"\" />\r\n      <text\r\n        fill=\"rgba(0,0,0,0.6)\"\r\n        dominant-baseline=\"central\"\r\n        :x=\"width/2\"\r\n        :y=\"size/2\"\r\n        text-anchor=\"middle\"\r\n        :font-size=\"width * 0.4\"\r\n        style=\"pointer-events: none;\"\r\n        v-text=\"text\" />\r\n    </g>\r\n  </g>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    inversions: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    width: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    height: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    value: {\r\n      type: [Number, String],\r\n      required: true\r\n    },\r\n    space: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    dark: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  computed: {\r\n    size () {\r\n      const { height, space, inversions: { length } } = this\r\n\r\n      return (height + space) / length - space\r\n    },\r\n    distance () {\r\n      const { size, space } = this\r\n\r\n      return size + space\r\n    }\r\n  },\r\n  mounted () {\r\n    window.addEventListener('keydown', this.onKeyDown)\r\n  },\r\n  beforeDestroy () {\r\n    window.removeEventListener('keydown', this.onKeyDown)\r\n  },\r\n  methods: {\r\n    onKeyDown (event) {\r\n      if (event.key.toLowerCase() === 'w') {\r\n        const i = this.inversions.indexOf(this.inversions.find(i => i.value === this.value)) + 1\r\n\r\n        if (this.inversions[i]) {\r\n          this.$emit('update:value', this.inversions[i].value)\r\n        }\r\n      } else if (event.key.toLowerCase() === 's') {\r\n        const i = this.inversions.indexOf(this.inversions.find(i => i.value === this.value)) - 1\r\n\r\n        if (this.inversions[i]) {\r\n          this.$emit('update:value', this.inversions[i].value)\r\n        }\r\n      }\r\n    },\r\n    onMove (event) {\r\n      const { top, left } = this.$refs.root.getBoundingClientRect()\r\n      const x = event.touches[0].clientX - left\r\n      const y = event.touches[0].clientY - top\r\n      const h = this.height + this.space\r\n      const p = Math.floor((h - y) / this.distance)\r\n\r\n      if (x > this.width) {\r\n        return\r\n      }\r\n\r\n      if (p >= 0 && p < this.inversions.length) {\r\n        this.$emit('update:value', this.inversions[p].value)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\nrect {\r\n  fill: rgba(0, 0, 0, 0.06);\r\n  cursor: pointer;\r\n}\r\n\r\ntext {\r\n  fill: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.active text {\r\n  fill: rgba(0, 0, 0, 0.87);\r\n}\r\n\r\n.active rect {\r\n  fill: rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n.dark rect {\r\n  fill: rgba(255, 255, 255, 0.12);\r\n}\r\n\r\n.dark text {\r\n  fill: rgba(255, 255, 255, 0.6);\r\n}\r\n\r\n.dark .active rect {\r\n  fill: rgba(255, 255, 255, 0.36);\r\n}\r\n\r\n.dark .active text {\r\n  fill: #fff\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/.pnpm/registry.npmjs.org/thread-loader/2.1.3_webpack@4.41.2/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/registry.npmjs.org/babel-loader/8.0.6_@babel+core@7.6.4+webpack@4.41.2/node_modules/babel-loader/lib/index.js!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Inversion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/.pnpm/registry.npmjs.org/thread-loader/2.1.3_webpack@4.41.2/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/registry.npmjs.org/babel-loader/8.0.6_@babel+core@7.6.4+webpack@4.41.2/node_modules/babel-loader/lib/index.js!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Inversion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Inversion.vue?vue&type=template&id=51a6b995&scoped=true&\"\nimport script from \"./Inversion.vue?vue&type=script&lang=js&\"\nexport * from \"./Inversion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Inversion.vue?vue&type=style&index=0&id=51a6b995&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51a6b995\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',{ref:\"root\",class:{dark: _vm.dark}},_vm._l((_vm.slots),function(v,index){return _c('g',{key:index,class:{active: v && (v === _vm.value)},attrs:{\"transform\":(\"translate(\" + ([0, index * _vm.distance]) + \")\")}},[(v)?_c('text',{style:({ fontSize: ((_vm.size * 0.8) + \"px\"), opacity: _vm.dark ? 0.28 : 0.14 }),attrs:{\"text-anchor\":\"middle\",\"dominant-baseline\":\"text-bottom\",\"dy\":\"0.1em\",\"y\":_vm.size,\"x\":_vm.width * 0.97},domProps:{\"textContent\":_vm._s(index + 1)}}):_vm._e(),(v)?_c('rect',{staticClass:\"slot\",style:({fill: v.node.extra.color, stroke: _vm.$parent.stroke(v.node.extra.color)}),attrs:{\"width\":_vm.width,\"height\":_vm.size,\"rx\":_vm.$parent.radius(v.node, _vm.width > _vm.size ? _vm.size / 2 : _vm.width),\"ry\":_vm.$parent.radius(v.node, _vm.width > _vm.size ? _vm.size / 2 : _vm.width)},on:{\"mouseenter\":function($event){return _vm.$parent.onEnter(v.node)},\"touchstart\":function($event){$event.stopPropagation();return _vm.$parent.onTouchStart($event, v, true)},\"touchend\":function($event){$event.stopPropagation();return _vm.$parent.onTouchEnd($event, v)},\"mousedown\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.$parent.onMouseDown($event, v, null, true)},\"mouseup\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.$parent.onMouseUp($event, v)}}}):_c('rect',{staticClass:\"placeholder\",attrs:{\"width\":_vm.width,\"height\":_vm.size,\"rx\":\"8\",\"ry\":\"8\"}}),((_vm.size > 52) && v && (v.inversion !== 0))?_c('text',{attrs:{\"font-size\":\"14\",\"text-anchor\":\"middle\",\"dominant-baseline\":\"central\",\"dy\":\"0.2em\",\"y\":_vm.size * 3 / 4,\"x\":_vm.width / 2},domProps:{\"textContent\":_vm._s(_vm.formatNumber(v.inversion))}}):_vm._e(),((_vm.size > 52) && v && v.alt)?_c('text',{attrs:{\"font-size\":\"14\",\"dy\":\"-0.2em\",\"x\":_vm.width / 2,\"dominant-baseline\":\"middle\",\"y\":_vm.size / 4,\"text-anchor\":\"middle\"},domProps:{\"textContent\":_vm._s(v.alt)}}):_vm._e(),(v)?_c('x-chord',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"fill\":\"rgba(0,0,0,0.6)\",\"x\":_vm.width/2,\"y\":_vm.size/2,\"font-size\":18,\"secondary\":14,\"post\":16,\"parts\":_vm.format(v.node)}}):_vm._e()],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('text',{attrs:{\"dominant-baseline\":\"central\",\"text-anchor\":\"middle\"}},_vm._l((_vm.parts),function(part,keyName){return _c('tspan',{key:keyName,style:({\n      fontWeight: part.primary ? '700' : '500'\n    }),attrs:{\"font-size\":part.secondary ? _vm.secondary : part.post ? _vm.post : null,\"dy\":keyName === 1 ? '-0.4em' : null},domProps:{\"textContent\":_vm._s(part.text)}})}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <text\r\n    dominant-baseline=\"central\"\r\n    text-anchor=\"middle\">\r\n    <tspan\r\n      v-for=\"(part, keyName) in parts\"\r\n      :key=\"keyName\"\r\n      :font-size=\"part.secondary ? secondary : part.post ? post : null\"\r\n      :style=\"{\r\n        fontWeight: part.primary ? '700' : '500'\r\n      }\"\r\n      :dy=\"keyName === 1 ? '-0.4em' : null\"\r\n      v-text=\"part.text\" />\r\n  </text>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    parts: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    secondary: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    post: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/.pnpm/registry.npmjs.org/thread-loader/2.1.3_webpack@4.41.2/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/registry.npmjs.org/babel-loader/8.0.6_@babel+core@7.6.4+webpack@4.41.2/node_modules/babel-loader/lib/index.js!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Chord.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/.pnpm/registry.npmjs.org/thread-loader/2.1.3_webpack@4.41.2/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/registry.npmjs.org/babel-loader/8.0.6_@babel+core@7.6.4+webpack@4.41.2/node_modules/babel-loader/lib/index.js!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Chord.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chord.vue?vue&type=template&id=5ce80472&\"\nimport script from \"./Chord.vue?vue&type=script&lang=js&\"\nexport * from \"./Chord.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { transpose, chord } from '@tonaljs/chord'\r\nimport { interval, coordToInterval, encode, note, transpose as transposeNote } from '@tonaljs/tonal'\r\nimport { simplify } from '@tonaljs/note'\r\nimport { names, substract, add } from '@tonaljs/interval'\r\nimport { toMidi, midiToNoteName } from '@tonaljs/midi'\r\n\r\nconst intervalNames = names()\r\n\r\nexport function parseChord (romanChord, note, octave) {\r\n  const chordInterval = coordToInterval(encode(romanChord)).name\r\n  const { type, bass, acc } = parseBass(romanChord.chordType)\r\n  const chordName = transpose(note + normalizeChordType(type), chordInterval)\r\n  const chordData = chord(chordName)\r\n  const chordIntervals = chordData.intervals.map(interval => add(chordInterval, interval))\r\n\r\n  if (bass) {\r\n    const bassInterval = getBassInterval(bass, acc)\r\n    invertToBass(chordIntervals, bassInterval)\r\n  }\r\n\r\n  const trans = interval => transposeNote(`${note}${octave}`, interval)\r\n\r\n  return chordIntervals.map(trans)\r\n}\r\n\r\nexport function intervalsToNotes (intervals) {\r\n  return intervals.map(simplify)\r\n}\r\n\r\nexport function intervalsToMidi (intervals) {\r\n  return intervals.map(n => note(n).midi)\r\n}\r\n\r\nexport function invertToBass (intervals, bassInterval) {\r\n  if (intervals.includes(bassInterval)) {\r\n    return reorderToInversion(intervals, bassInterval)\r\n  }\r\n\r\n  const bassIntervalOctave = add(bassInterval, '8P')\r\n\r\n  if (intervals.includes(bassIntervalOctave)) {\r\n    reorderToInversion(intervals, bassIntervalOctave)\r\n  } else {\r\n    const bassIntervalData = interval(bassInterval)\r\n    const firstIntervalData = interval(intervals[0])\r\n\r\n    const adjustedBassInterval = (bassIntervalData.semitones >= firstIntervalData.semitones)\r\n      ? substract(bassInterval, '8P')\r\n      : bassInterval\r\n\r\n    intervals.unshift(adjustedBassInterval)\r\n  }\r\n}\r\n\r\nexport function reorderToInversion (intervals, bassInterval) {\r\n  while (intervals[0] !== bassInterval) {\r\n    let item = intervals.shift()\r\n    item = add(item, '8P')\r\n    intervals.push(item)\r\n  }\r\n}\r\n\r\nexport function parseBass (chordType) {\r\n  const [type, bass] = chordType.split('/')\r\n  let acc\r\n  let parsedBass\r\n\r\n  if (bass && (bass[0] === 'b' || bass[0] === '#')) {\r\n    acc = bass[0] === 'b' ? '-1A' : '1A'\r\n    parsedBass = bass.slice(1)\r\n  }\r\n\r\n  if (bass) {\r\n    parsedBass = parseInt(parsedBass || bass)\r\n  }\r\n\r\n  return { type, bass: parsedBass, acc }\r\n}\r\n\r\nfunction normalizeChordType (type) {\r\n  return type\r\n    .replace('sus', 'sus4')\r\n    .replace('b9', '7b9')\r\n    .replace('b13', '9b13')\r\n    .replace('M9', 'maj9')\r\n    .replace('2', 'add2')\r\n    .replace(/^b9$/, '7b9')\r\n}\r\n\r\nexport function getBassInterval (bass, acc) {\r\n  const bassInterval = intervalNames[bass - 1]\r\n\r\n  if (acc) {\r\n    return add(bassInterval, acc)\r\n  }\r\n\r\n  return bassInterval\r\n}\r\n\r\nlet lastMidis = null\r\n\r\nexport function invert (intervals, inversion) {\r\n  const midis = intervals.map(toMidi)\r\n\r\n  if (!inversion) {\r\n    lastMidis = midis\r\n    return intervals\r\n  }\r\n\r\n  if ((inversion === 'A') && lastMidis) {\r\n    automatic(midis, lastMidis)\r\n  } else if (inversion !== 'A') {\r\n    invertMidi(midis, inversion)\r\n  }\r\n\r\n  lastMidis = midis\r\n\r\n  return midis.map(midiToNoteName)\r\n}\r\n\r\nfunction invertMidi (midis, inversion) {\r\n  const sign = Math.sign(inversion)\r\n\r\n  while (inversion !== 0) {\r\n    inversion -= sign\r\n\r\n    if (sign > 0) {\r\n      let first = midis.shift()\r\n      const last = midis[midis.length - 1]\r\n      while (first <= last) { first += 12 }\r\n      midis.push(first)\r\n    } else {\r\n      let first = midis.pop()\r\n      const last = midis[0]\r\n      while (first >= last) { first -= 12 }\r\n      midis.unshift(first)\r\n    }\r\n  }\r\n\r\n  return midis\r\n}\r\n\r\nfunction automatic (midis, lastMidis) {\r\n  const lastMax = Math.max(...lastMidis)\r\n  const currentMax = Math.max(...midis)\r\n  const dist = lastMax - currentMax\r\n\r\n  if (dist === 0) {\r\n    return\r\n  }\r\n\r\n  invertMidi(midis, Math.sign(dist))\r\n}\r\n","import { romanNumeral } from '@tonaljs/roman-numeral'\r\nimport { transpose } from '@tonaljs/chord'\r\nimport { simplify } from '@tonaljs/note'\r\nimport { coordToInterval, encode, transpose as transposeNote } from '@tonaljs/tonal'\r\nimport { getBassInterval, parseBass } from './chord'\r\n\r\nfunction replaceSigns (acc) {\r\n  return acc.replace(/#/g, '').replace(/b/g, '')\r\n}\r\n\r\nfunction replaceType (acc) {\r\n  return replaceSigns(acc).replace(/-/g, '')\r\n}\r\n\r\nexport function formatRoman (name) {\r\n  const { roman, acc, chordType } = romanNumeral(name)\r\n\r\n  const format = []\r\n\r\n  if (acc) {\r\n    format.push({\r\n      text: replaceSigns(acc),\r\n      pre: true\r\n    })\r\n  }\r\n\r\n  format.push({\r\n    text: roman,\r\n    primary: true\r\n  })\r\n\r\n  if (chordType) {\r\n    format.push({\r\n      text: replaceType(chordType),\r\n      secondary: true\r\n    })\r\n  }\r\n\r\n  return format\r\n}\r\n\r\nexport function formatTransposed (name, chordType, baseNote) {\r\n  const parts = name.split('')\r\n\r\n  const format = []\r\n\r\n  format.push({\r\n    text: parts[0],\r\n    primary: true\r\n  })\r\n\r\n  if (parts[1]) {\r\n    format.push({\r\n      text: replaceSigns(parts[1]),\r\n      post: true\r\n    })\r\n  }\r\n\r\n  if (chordType) {\r\n    const { type, bass, acc } = parseBass(chordType)\r\n\r\n    let bassText = null\r\n\r\n    if (bass) {\r\n      const bassInterval = getBassInterval(bass, acc)\r\n      bassText = `/${transposeNote(baseNote, bassInterval)}`\r\n    }\r\n\r\n    format.push({\r\n      text: replaceType(type) + (bassText || ''),\r\n      secondary: true\r\n    })\r\n  }\r\n\r\n  return format\r\n}\r\n\r\nexport function transposeFormatTransposed (name, baseNote) {\r\n  const r = romanNumeral(name)\r\n  const n = transpose(baseNote, coordToInterval(encode(r)).name)\r\n\r\n  return formatTransposed(simplify(n), r.chordType, baseNote)\r\n}\r\n\r\nexport function formatNumber (value) {\r\n  return value === -Infinity ? '' : value < 0 ? '' + Math.abs(value) : value > 0 ? '+' + value : value\r\n}\r\n","<template>\r\n  <g\r\n    ref=\"root\"\r\n    :class=\"{dark: dark}\">\r\n    <g\r\n      v-for=\"(v, index) in slots\"\r\n      :key=\"index\"\r\n      :class=\"{active: v && (v === value)}\"\r\n      :transform=\"`translate(${[0, index * distance]})`\">\r\n      <text\r\n        v-if=\"v\"\r\n        :style=\"{ fontSize: `${size * 0.8}px`, opacity: dark ? 0.28 : 0.14 }\"\r\n        text-anchor=\"middle\"\r\n        dominant-baseline=\"text-bottom\"\r\n        dy=\"0.1em\"\r\n        :y=\"size\"\r\n        :x=\"width * 0.97\"\r\n        v-text=\"index + 1\" />\r\n      <rect\r\n        v-if=\"v\"\r\n        :width=\"width\"\r\n        :height=\"size\"\r\n        class=\"slot\"\r\n        :rx=\"$parent.radius(v.node, width > size ? size / 2 : width)\"\r\n        :ry=\"$parent.radius(v.node, width > size ? size / 2 : width)\"\r\n        :style=\"{fill: v.node.extra.color, stroke: $parent.stroke(v.node.extra.color)}\"\r\n        @mouseenter=\"$parent.onEnter(v.node)\"\r\n        @touchstart.stop=\"$parent.onTouchStart($event, v, true)\"\r\n        @touchend.stop=\"$parent.onTouchEnd($event, v)\"\r\n        @mousedown.stop.prevent=\"$parent.onMouseDown($event, v, null, true)\"\r\n        @mouseup.stop.prevent=\"$parent.onMouseUp($event, v)\" />\r\n      <rect\r\n        v-else\r\n        class=\"placeholder\"\r\n        :width=\"width\"\r\n        :height=\"size\"\r\n        rx=\"8\"\r\n        ry=\"8\" />\r\n      <text\r\n        v-if=\"(size > 52) && v && (v.inversion !== 0)\"\r\n        font-size=\"14\"\r\n        text-anchor=\"middle\"\r\n        dominant-baseline=\"central\"\r\n        dy=\"0.2em\"\r\n        :y=\"size * 3 / 4\"\r\n        :x=\"width / 2\"\r\n        v-text=\"formatNumber(v.inversion)\" />\r\n      <text\r\n        v-if=\"(size > 52) && v && v.alt\"\r\n        font-size=\"14\"\r\n        dy=\"-0.2em\"\r\n        :x=\"width / 2\"\r\n        dominant-baseline=\"middle\"\r\n        :y=\"size / 4\"\r\n        text-anchor=\"middle\"\r\n        v-text=\"v.alt\" />\r\n      <x-chord\r\n        v-if=\"v\"\r\n        fill=\"rgba(0,0,0,0.6)\"\r\n        :x=\"width/2\"\r\n        :y=\"size/2\"\r\n        :font-size=\"18\"\r\n        style=\"pointer-events: none;\"\r\n        :secondary=\"14\"\r\n        :post=\"16\"\r\n        :parts=\"format(v.node)\" />\r\n    </g>\r\n  </g>\r\n</template>\r\n<script>\r\nimport XChord from './Chord'\r\nimport { formatNumber } from '@/utils/format'\r\n\r\nconst keys = {}\r\n\r\nexport default {\r\n  components: {\r\n    XChord\r\n  },\r\n  props: {\r\n    items: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    value: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n    width: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    height: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    space: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    dark: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    format: {\r\n      type: Function,\r\n      default: ({ name }) => [{ text: name }]\r\n    }\r\n  },\r\n  computed: {\r\n    size () {\r\n      const { height, space, slots: { length } } = this\r\n\r\n      return (height + space) / length - space\r\n    },\r\n    distance () {\r\n      const { size, space } = this\r\n\r\n      return size + space\r\n    },\r\n    slots () {\r\n      return [...this.items, ...new Array(9)].slice(0, 9)\r\n    }\r\n  },\r\n  mounted () {\r\n    window.addEventListener('keydown', this.onKeyDown)\r\n    window.addEventListener('keyup', this.onKeyUp)\r\n  },\r\n  beforeDestroy () {\r\n    window.removeEventListener('keydown', this.onKeyDown)\r\n    window.removeEventListener('keyup', this.onKeyUp)\r\n  },\r\n  methods: {\r\n    formatNumber,\r\n    onKeyDown (event) {\r\n      const index = parseInt(event.key, 10) - 1\r\n\r\n      if (keys[index] || isNaN(index) || (index < 0) || (index >= this.items.length)) {\r\n        return\r\n      }\r\n\r\n      keys[index] = true\r\n      this.$parent.onEnter(this.items[index].node)\r\n      this.$parent.onMouseDown(null, this.items[index], null, true)\r\n    },\r\n    onKeyUp () {\r\n      const index = parseInt(event.key, 10) - 1\r\n\r\n      if (isNaN(index) || (index < 0) || (index >= this.items.length)) {\r\n        return\r\n      }\r\n\r\n      keys[index] = false\r\n      this.$parent.onMouseUp(null, this.items[index], true)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\nrect {\r\n  cursor: pointer;\r\n  stroke-width: 0.5;\r\n}\r\n\r\nrect.placeholder {\r\n  fill: rgba(0, 0, 0, 0.06);\r\n  cursor: initial;\r\n  pointer-events: none;\r\n}\r\n\r\n.slot {\r\n  fill-opacity: .5;\r\n  opacity: 0.48;\r\n}\r\n\r\n.slot:hover {\r\n  stroke-width: 1.5;\r\n  fill-opacity: 0.75;\r\n  opacity: 1;\r\n}\r\n\r\n.active .slot {\r\n  opacity: 1;\r\n}\r\n\r\n.active rect.slot {\r\n  stroke: #000 !important;\r\n  stroke-dasharray: 1.5 4.5;\r\n  stroke-width: 1.5 !important;\r\n  stroke-linecap: round;\r\n  stroke-linejoin: round;\r\n}\r\n\r\n.dark .active rect.slot {\r\n  stroke: #fff !important;\r\n}\r\n\r\ntext {\r\n  fill: rgba(0, 0, 0, 0.8);\r\n  pointer-events: none;\r\n}\r\n\r\n.dark rect {\r\n  fill: rgba(255, 255, 255, 0.12);\r\n}\r\n\r\n.dark text {\r\n  fill: rgba(255, 255, 255, 0.8);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/.pnpm/registry.npmjs.org/thread-loader/2.1.3_webpack@4.41.2/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/registry.npmjs.org/babel-loader/8.0.6_@babel+core@7.6.4+webpack@4.41.2/node_modules/babel-loader/lib/index.js!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Recent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/.pnpm/registry.npmjs.org/thread-loader/2.1.3_webpack@4.41.2/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/registry.npmjs.org/babel-loader/8.0.6_@babel+core@7.6.4+webpack@4.41.2/node_modules/babel-loader/lib/index.js!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Recent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Recent.vue?vue&type=template&id=1a3684d9&scoped=true&\"\nimport script from \"./Recent.vue?vue&type=script&lang=js&\"\nexport * from \"./Recent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Recent.vue?vue&type=style&index=0&id=1a3684d9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a3684d9\",\n  null\n  \n)\n\nexport default component.exports","import { linkHorizontal } from 'd3-shape'\r\n\r\nfunction horizontalSource (d) {\r\n  let x\r\n  let y\r\n  let left\r\n  let right\r\n\r\n  if (d.source.x0 > d.target.x0) {\r\n    left = d.target\r\n    right = d.source\r\n  } else {\r\n    left = d.source\r\n    right = d.target\r\n  }\r\n\r\n  if (left.x0 === right.x0) {\r\n    y = left.y0 > right.y0 ? left.y0 : left.y1\r\n    x = (left.x0 + left.x1) / 2\r\n  } else {\r\n    y = (left.y0 + left.y1) / 2\r\n    x = left.x0 > right.x0 ? left.x0 : left.x1\r\n  }\r\n\r\n  return [x, y]\r\n}\r\n\r\nfunction horizontalTarget (d) {\r\n  let x\r\n  let y\r\n  let left\r\n  let right\r\n\r\n  if (d.source.x0 > d.target.x0) {\r\n    left = d.target\r\n    right = d.source\r\n  } else {\r\n    left = d.source\r\n    right = d.target\r\n  }\r\n\r\n  if (left.x0 === right.x0) {\r\n    y = left.y0 < right.y0 ? right.y0 : right.y1\r\n    x = (right.x0 + right.x1) / 2\r\n  } else {\r\n    y = (right.y0 + right.y1) / 2\r\n    x = left.x0 < right.x0 ? right.x0 : right.x1\r\n  }\r\n\r\n  return [x, y]\r\n}\r\n\r\nexport default function () {\r\n  return linkHorizontal()\r\n    .source(horizontalSource)\r\n    .target(horizontalTarget)\r\n}\r\n","import { sankey, sankeyRight, sankeyLinkHorizontal } from 'd3-sankey'\r\nimport link from '../utils/link'\r\n\r\nexport function draw ({ margin, sanGraph: graph, nodeSize, iterations, height, inversionPad, width, pads }) {\r\n  graph = { ...graph }\r\n  const altRadius = Math.floor(nodeSize / 32) * 9\r\n  const h = height - margin.bottom\r\n  const nodePad = Math.floor(height / 240) * 6\r\n  const w = width - margin.right - inversionPad * 1.5 - altRadius / 2\r\n\r\n  let path\r\n\r\n  if (pads) {\r\n    const { nodeWidth } = toPads(graph, w, h, margin, inversionPad, nodeSize)\r\n    nodeSize = nodeWidth\r\n    path = link()\r\n  } else {\r\n    const san = sankey()\r\n      .nodeWidth(nodeSize)\r\n      .nodePadding(nodePad)\r\n      .iterations(iterations)\r\n      .nodeAlign(sankeyRight)\r\n      .extent([[margin.left + inversionPad, margin.top], [w, h]])\r\n\r\n    san(graph)\r\n    path = sankeyLinkHorizontal()\r\n  }\r\n\r\n  adjustAlts({ altRadius, graph, nodeSize })\r\n\r\n  return { altRadius, graph, path, nodeSize }\r\n}\r\n\r\nfunction adjustAlts ({ altRadius, graph, nodeSize }) {\r\n  for (const node of graph.nodes) {\r\n    const height = node.y1 - node.y0\r\n    const vertical = (node.y1 - node.y0) > (node.extra.alts.length * altRadius * 2 - altRadius)\r\n\r\n    if (vertical) {\r\n      node.extra.altsTranslate = node.extra.alts.map((alt, index) => [\r\n        nodeSize,\r\n        height - index * (((height) > (node.extra.alts.length * altRadius * 2 - altRadius)) ? altRadius * 2 : (height + altRadius) / node.extra.alts.length)\r\n      ])\r\n    } else {\r\n      node.extra.altsTranslate = node.extra.alts.map((alt, index) => [\r\n        index * altRadius * 2,\r\n        height\r\n      ])\r\n    }\r\n  }\r\n}\r\n\r\nfunction toPads ({ nodes, links }, width, height, { left, right, top, bottom }, inversionPad, nodeWidth) {\r\n  const nw = nodeWidth = 2 * nodeWidth\r\n\r\n  nodes = nodes.slice().sort((a, b) => (a.extra.romanChord.step + a.extra.romanChord.chordType)\r\n    .localeCompare(b.extra.romanChord.step + b.extra.romanChord.chordType))\r\n\r\n  width -= inversionPad\r\n\r\n  const cols = 6\r\n  const rows = Math.ceil(nodes.length / cols)\r\n  const w = (width - nw - left) / (cols - 1)\r\n  const h = height / rows\r\n  let i = 0\r\n\r\n  links.forEach(l => (l.width = h / 2))\r\n\r\n  for (const node of nodes) {\r\n    const x = i % cols\r\n    const y = Math.round((i - x) / cols)\r\n\r\n    node.x0 = x * w + left + inversionPad\r\n    node.x1 = node.x0 + nw\r\n\r\n    node.y0 = y * h + top\r\n    node.y1 = (y + 1) * h\r\n\r\n    i++\r\n\r\n    node.sourceLinks = []\r\n    node.targetLinks = []\r\n  }\r\n\r\n  for (const link of links) {\r\n    link.source.sourceLinks.push(link)\r\n    link.target.targetLinks.push(link)\r\n  }\r\n\r\n  return { nodeWidth }\r\n}\r\n","<template>\r\n  <svg\r\n    ref=\"chart\"\r\n    :width=\"width\"\r\n    :height=\"height\"\r\n    :class=\"{dark: dark, highlight: highlight, pause: !animate, pads: pads}\"\r\n    @touchstart.stop=\"onGlobalTouch\"\r\n    @mousedown.stop=\"highlight = false\"\r\n    @mouseup.stop=\"onMouseUp($event, null)\">\r\n    <defs>\r\n      <marker\r\n        id=\"end-marker\"\r\n        markerWidth=\"2\"\r\n        markerHeight=\"2\"\r\n        orient=\"auto\"\r\n        refY=\"0.8\"\r\n        refX=\"-0.4\">\r\n        <path\r\n          d=\"M0,0 L2,0.8 0,2\"\r\n          fill-opacity=\"0.16\" />\r\n      </marker>\r\n      <marker\r\n        id=\"start-marker\"\r\n        markerWidth=\"2\"\r\n        markerHeight=\"2\"\r\n        orient=\"auto\"\r\n        refY=\"1\"\r\n        refX=\"2\">\r\n        <circle\r\n          r=\"0.9\"\r\n          cx=\"1\"\r\n          cy=\"1\"\r\n          fill-opacity=\"0.16\" />\r\n      </marker>\r\n      <radialGradient id=\"gradient\">\r\n        <stop\r\n          :offset=\"0\"\r\n          stop-color=\"transparent\" />\r\n        <template v-for=\"(s, key) in [1, 2.7, 4.7, 6.7].map(d => d / 7)\">\r\n          <stop\r\n            :key=\"`${key}a`\"\r\n            :offset=\"s - 0.035\"\r\n            stop-color=\"transparent\" />\r\n          <stop\r\n            :key=\"`${key}b`\"\r\n            :offset=\"s - 0.029\"\r\n            :stop-color=\"rippleColor\" />\r\n          <stop\r\n            :key=\"`${key}c`\"\r\n            :offset=\"s + 0.029\"\r\n            :stop-color=\"rippleColor\" />\r\n          <stop\r\n            :key=\"`${key}d`\"\r\n            :offset=\"s + 0.035\"\r\n            stop-color=\"transparent\" />\r\n        </template>\r\n        <stop\r\n          :offset=\"1\"\r\n          stop-color=\"transparent\" />\r\n      </radialGradient>\r\n      <symbol\r\n        id=\"ripply-scott\"\r\n        viewBox=\"0 0 100 100\">\r\n        <circle\r\n          fill=\"url(#gradient)\"\r\n          cx=\"1\"\r\n          cy=\"1\"\r\n          r=\"1\" />\r\n      </symbol>\r\n    </defs>\r\n    <g v-if=\"!!path\">\r\n      <clipPath id=\"clipping\">\r\n        <rect\r\n          v-if=\"lastNode\"\r\n          :height=\"lastNode.y1 - lastNode.y0\"\r\n          :width=\"nodeWidth\"\r\n          :transform=\"`translate(${[lastNode.x0, lastNode.y0]})`\"\r\n          :rx=\"radius(lastNode)\"\r\n          :ry=\"radius(lastNode)\" />\r\n      </clipPath>\r\n      <g class=\"links\">\r\n        <path\r\n          v-for=\"(link, key) in graph.links\"\r\n          :key=\"key\"\r\n          class=\"link\"\r\n          :class=\"{active: link.active}\"\r\n          marker-start=\"url(#start-marker)\"\r\n          marker-end=\"url(#end-marker)\"\r\n          :d=\"path(link)\"\r\n          :style=\"{stroke: stroke(link.source.extra.color)}\" />\r\n      </g>\r\n      <g>\r\n        <g\r\n          v-for=\"(node, key) in graph.nodes\"\r\n          :key=\"key\"\r\n          class=\"node\"\r\n          :class=\"{active: node.extra.active, alias: lastEnterName === node.data.name}\"\r\n          :transform=\"`translate(${[node.x0, node.y0]})`\">\r\n          <rect\r\n            :data-cid=\"node.id\"\r\n            :height=\"node.y1 - node.y0\"\r\n            :width=\"nodeWidth\"\r\n            :rx=\"radius(node)\"\r\n            :ry=\"radius(node)\"\r\n            :style=\"{fill: node.extra.color, stroke: stroke(node.extra.color)}\"\r\n            @mouseenter=\"onEnter(node)\"\r\n            @touchstart.stop=\"onTouchStart($event, {node})\"\r\n            @touchend.stop=\"onTouchEnd($event, {node})\"\r\n            @mousedown.stop.prevent=\"onMouseDown($event, {node})\"\r\n            @mouseup.stop.prevent=\"onMouseUp($event, {node})\" />\r\n          <x-chord\r\n            :secondary=\"altRadius - 4\"\r\n            :post=\"altRadius - 2\"\r\n            :y=\"(node.y1 - node.y0) / 2\"\r\n            :x=\"nodeWidth / 2\"\r\n            :font-size=\"Math.max(altRadius, 14)\"\r\n            :parts=\"format(node)\" />\r\n          <g\r\n            v-for=\"(alt, index) in node.extra.alts\"\r\n            :key=\"alt\"\r\n            class=\"alt\"\r\n            :transform=\"`translate(${node.extra.altsTranslate[index]})`\">\r\n            <circle\r\n              :r=\"altRadius\"\r\n              :data-aid=\"alt\"\r\n              :style=\"{fill: altColor(node.extra.color)}\"\r\n              @mouseenter=\"onEnter(node)\"\r\n              @touchstart.stop=\"onTouchStart($event, {node, alt})\"\r\n              @touchend.stop=\"onTouchEnd($event, {node, alt})\"\r\n              @mousedown.stop.prevent=\"onMouseDown($event, {node, alt})\"\r\n              @mouseup.stop.prevent=\"onMouseUp($event, {node, alt})\" />\r\n            <text\r\n              dominant-baseline=\"central\"\r\n              :font-size=\"alt.length > 3 ? Math.floor(altRadius * 0.7) - 2 : Math.floor(altRadius * 0.8)\"\r\n              text-anchor=\"middle\">\r\n              {{ simpleFormat(alt) }}\r\n            </text>\r\n          </g>\r\n        </g>\r\n      </g>\r\n    </g>\r\n    <g clip-path=\"url(#clipping)\">\r\n      <use\r\n        ref=\"ripple\"\r\n        height=\"100\"\r\n        width=\"100\"\r\n        xlink:href=\"#ripply-scott\"\r\n        style=\"pointer-events: none;\" />\r\n    </g>\r\n    <x-inversion\r\n      :width=\"inversionPad\"\r\n      :height=\"height - margin.top - margin.bottom - 32 * 2\"\r\n      :space=\"margin.left / 2\"\r\n      :inversions=\"inversions\"\r\n      :value=\"inversion\"\r\n      :transform=\"`translate(${[margin.left / 2, margin.top + 32]})`\"\r\n      @update:value=\"value => $emit('update:inversion', value)\" />\r\n    <x-recent\r\n      :width=\"inversionPad * 1.5\"\r\n      :height=\"height - margin.top / 2 - margin.bottom - 32\"\r\n      :space=\"margin.left / 2\"\r\n      :items=\"recent\"\r\n      :dark=\"dark\"\r\n      :format=\"format\"\r\n      :value=\"lastRecent\"\r\n      :transform=\"`translate(${[width - inversionPad * 1.5 - margin.right / 2, margin.top / 2]})`\" />\r\n  </svg>\r\n</template>\r\n<script>\r\nimport * as d3 from 'd3'\r\n\r\nimport { TimelineMax, Linear } from 'gsap/TweenMax'\r\nimport { debounce } from 'rambdax'\r\nimport XInversion from './Inversion'\r\nimport XRecent from './Recent'\r\nimport XChord from './Chord'\r\nimport { draw } from '@/utils/draw'\r\n\r\nexport default {\r\n  components: { XInversion, XRecent, XChord },\r\n  props: {\r\n    sanGraph: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    iterations: {\r\n      type: Number,\r\n      default: 6\r\n    },\r\n    nodeSize: {\r\n      type: Number,\r\n      default: 64\r\n    },\r\n    dark: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    format: {\r\n      type: Function,\r\n      default: ({ data: { name } }) => [{ text: name }]\r\n    },\r\n    simpleFormat: {\r\n      type: Function,\r\n      default: text => text.replace(/b/g, '')\r\n    },\r\n    width: {\r\n      type: Number,\r\n      default: 1200\r\n    },\r\n    height: {\r\n      type: Number,\r\n      default: 720\r\n    },\r\n    margin: {\r\n      type: Object,\r\n      default: () => ({ top: 32, right: 32, bottom: 32, left: 32 })\r\n    },\r\n    animate: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    pads: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    inversions: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    inversion: {\r\n      type: [Number, String],\r\n      required: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      nodeWidth: this.nodeSize,\r\n      altRadius: 22,\r\n      path: null,\r\n      graph: null,\r\n      lastNode: null,\r\n      inversionPad: 48,\r\n      rippleColor: null,\r\n      lastEnter: null,\r\n      lastRecent: null,\r\n      lastPlayed: [],\r\n      recent: [],\r\n      highlight: false,\r\n      lazyDraw: debounce(this.draw, 100),\r\n      lazyDrawOrNot: null\r\n    }\r\n  },\r\n  computed: {\r\n    lastEnterName () {\r\n      return this.lastEnter && this.lastEnter.data.name\r\n    },\r\n    graphValues () {\r\n      const { sanGraph, nodeSize, width, height, pads, margin } = this\r\n\r\n      return sanGraph, nodeSize, width, height, pads, margin, Date.now() // eslint-disable-line no-sequences\r\n    }\r\n  },\r\n  watch: {\r\n    graphValues: {\r\n      handler: 'lazyDraw',\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    onEnter (node) {\r\n      if (this.lastEnter) {\r\n        if (this.lastEnter === node) {\r\n          return\r\n        }\r\n\r\n        this.$emit('leave', this.lastEnter)\r\n      }\r\n\r\n      this.lastEnter = node\r\n\r\n      if (node) {\r\n        this.$emit('enter', node)\r\n      }\r\n    },\r\n    onGlobalTouch (event, cancel = false) {\r\n      if (cancel && event.cancelable) {\r\n        event.preventDefault()\r\n      }\r\n\r\n      this.highlight = false\r\n    },\r\n    onTouchStart (event, node, recent = false) {\r\n      if (event.cancelable) {\r\n        event.preventDefault()\r\n      }\r\n\r\n      this.onMouseDown(event, node, false, recent)\r\n      this.onEnter(node.node || node)\r\n    },\r\n    onTouchEnd (event, node) {\r\n      if (event.cancelable) {\r\n        event.preventDefault()\r\n      }\r\n\r\n      this.onMouseUp(event, node, false)\r\n    },\r\n    onMouseDown (event, node, mouse = true, recent = false) {\r\n      if (!recent) {\r\n        node.inversion = this.inversion\r\n        this.ripple(event, 1, node.node, mouse)\r\n      } else if (this.graph.nodes.includes(node.node)) {\r\n        this.ripple(this.nodeCenter(node), 1, node.node, mouse)\r\n      }\r\n\r\n      this.highlight = true\r\n      this.lastPlayed.push(node)\r\n\r\n      this.lastRecent = this.recent.find(({ node: { id }, alt, inversion }) => node.node.id === id && node.alt === alt && node.inversion === inversion)\r\n\r\n      if (!this.lastRecent) {\r\n        this.recent.unshift(node)\r\n        this.$emit('update:recent', this.recent.length)\r\n\r\n        if (this.recent.length > 9) {\r\n          this.recent.pop()\r\n        }\r\n      }\r\n\r\n      this.$emit('attack', node)\r\n    },\r\n    onMouseUp (event, node, mouse = true) {\r\n      if (!mouse) {\r\n        const id = event.target.getAttribute('data-cid')\r\n        const aid = event.target.getAttribute('data-aid') || undefined\r\n\r\n        if (id) {\r\n          node = this.lastPlayed.find(({ node, alt }) => node.id === id && alt === aid) || node\r\n        }\r\n      }\r\n\r\n      const lp = node && this.lastPlayed.find(obj => obj.node === node.node)\r\n\r\n      if (lp) {\r\n        this.$emit('release', lp)\r\n        this.lastPlayed.splice(this.lastPlayed.indexOf(lp), 1)\r\n      } else if (this.lastPlayed.length) {\r\n        this.$emit('release', this.lastPlayed.shift())\r\n      }\r\n    },\r\n    stroke (color) {\r\n      return d3.rgb(color).darker(0.5)\r\n    },\r\n    altColor (color) {\r\n      return this.$vuetify.theme.dark\r\n        ? d3.color(d3.interpolateCubehelix(d3.rgb(color), '#fff')(0.66)).darker(0.11)\r\n        : d3.color(d3.interpolateCubehelix(d3.rgb(color), '#000')(0.33)).darker(0.33)\r\n    },\r\n    radius ({ extra: { radius }, y1, y0 }, nodeWidth = this.nodeWidth) {\r\n      return Math.min((y1 - y0) / 2, nodeWidth / 2, radius < 1 ? radius * nodeWidth : radius)\r\n    },\r\n    draw () {\r\n      if (!this.sanGraph) {\r\n        return\r\n      }\r\n\r\n      const { altRadius, path, nodeSize, graph } = draw(this)\r\n      this.altRadius = altRadius\r\n      this.path = path\r\n      this.nodeWidth = nodeSize\r\n      this.graph = graph\r\n    },\r\n    async ripple (event, timing, node, mouse) {\r\n      let x\r\n      let y\r\n\r\n      if (event.touches) {\r\n        const { left, top } = this.$refs.chart.getBoundingClientRect()\r\n        x = event.touches[0].clientX - left\r\n        y = event.touches[0].clientY - top\r\n      } else {\r\n        x = event.offsetX\r\n        y = event.offsetY\r\n      }\r\n\r\n      this.rippleColor = this.$vuetify.theme.dark ? d3.rgb(node.extra.color).brighter(1.5) : d3.rgb(node.extra.color).darker(1.25)\r\n      this.lastNode = node\r\n      await new Promise(resolve => this.$nextTick(resolve))\r\n      const { ripple } = this.$refs\r\n      new TimelineMax().fromTo(ripple, timing, {\r\n        x,\r\n        y,\r\n        transformOrigin: '50% 50%',\r\n        scale: 0,\r\n        opacity: 0.87,\r\n        ease: Linear.easeOut\r\n      }, {\r\n        scale: 120,\r\n        opacity: 0\r\n      })\r\n    },\r\n    nodeCenter (node) {\r\n      if (node.alt) {\r\n        const t = node.node.extra.altsTranslate[node.node.extra.alts.indexOf(node.alt)]\r\n\r\n        return { offsetX: node.node.x0 + t[0], offsetY: node.node.y0 + t[1] }\r\n      }\r\n\r\n      return { offsetX: (node.node.x1 + node.node.x0) / 2, offsetY: (node.node.y1 + node.node.y0) / 2 }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.node rect {\r\n  fill-opacity: .5;\r\n  stroke-width: 0.5;\r\n  cursor: pointer;\r\n}\r\n\r\n.node rect:hover {\r\n  fill-opacity: 0.75;\r\n  stroke-width: 1.5;\r\n}\r\n\r\n.node text {\r\n  pointer-events: none;\r\n  fill: rgba(0, 0, 0, 0.87);\r\n  user-select: none;\r\n}\r\n\r\n.dark .node text {\r\n  fill: #fff;\r\n}\r\n\r\n.link {\r\n  fill: none;\r\n  stroke-opacity: .5;\r\n  stroke-linecap: round;\r\n  stroke-linejoin: round;\r\n  stroke-width: 6;\r\n}\r\n\r\n.link:hover {\r\n  stroke-opacity: 1;\r\n  stroke: #ccc !important;\r\n}\r\n\r\n#head-marker path, #start-marker circle {\r\n  fill: #666\r\n}\r\n\r\n.dark #head-marker path, .dark #start-marker circle {\r\n  fill: #eee\r\n}\r\n\r\n.alt circle {\r\n  fill: #444;\r\n  fill-opacity: 0.8;\r\n  cursor: pointer;\r\n}\r\n\r\n.alt circle:hover {\r\n  fill: #000;\r\n  fill-opacity: 1;\r\n}\r\n\r\n.alt text {\r\n  fill: #fff;\r\n  pointer-events: none;\r\n  user-select: none;\r\n}\r\n\r\n.dark .alt circle {\r\n  fill: #fff;\r\n  fill-opacity: 0.8;\r\n}\r\n\r\n.dark .alt circle:hover {\r\n  fill: #fff;\r\n  fill-opacity: 1;\r\n}\r\n\r\n.dark .alt text {\r\n  fill: #000;\r\n}\r\n\r\n@keyframes selection-8 {\r\n  from {\r\n    stroke-dashoffset: 0;\r\n  }\r\n\r\n  to {\r\n    stroke-dashoffset: 8;\r\n  }\r\n}\r\n\r\n@keyframes selection-13 {\r\n  from {\r\n    stroke-dashoffset: 0;\r\n  }\r\n\r\n  to {\r\n    stroke-dashoffset: 13;\r\n  }\r\n}\r\n\r\n@keyframes selection-7 {\r\n  from {\r\n    stroke-dashoffset: 0;\r\n  }\r\n\r\n  to {\r\n    stroke-dashoffset: 13;\r\n  }\r\n}\r\n\r\n.node.alias:not(.active) rect {\r\n  stroke: #000 !important;\r\n  /*noinspection CssInvalidPropertyValue*/\r\n  stroke-dasharray: 1 6;\r\n  stroke-width: 2;\r\n  stroke-linejoin: round;\r\n  stroke-linecap: round;\r\n  fill-opacity: 0.3 !important;\r\n  opacity: 1 !important;\r\n  animation: selection-7 1.2s linear infinite;\r\n}\r\n\r\n.pause .node.alias:not(.active) rect {\r\n  animation-play-state: paused !important;\r\n}\r\n\r\n.dark .node.alias:not(.active) rect {\r\n  stroke: #fff !important;\r\n}\r\n\r\n.node.active rect {\r\n  stroke: #000 !important;\r\n  /*noinspection CssInvalidPropertyValue*/\r\n  stroke-dasharray: 8 5;\r\n  stroke-width: 1.5;\r\n  stroke-linejoin: round;\r\n  stroke-linecap: round;\r\n  animation: selection-13 0.4s linear infinite reverse;\r\n}\r\n\r\n.pause .node.active rect {\r\n  animation-play-state: paused !important;\r\n}\r\n\r\n.dark .node.active rect {\r\n  stroke: #fff !important;\r\n}\r\n\r\npath.link.active {\r\n  stroke: #000 !important;\r\n  /*noinspection CssInvalidPropertyValue*/\r\n  stroke-dasharray: 3 5;\r\n  stroke-width: 1.5 !important;\r\n  stroke-opacity: 1;\r\n  stroke-linejoin: round;\r\n  stroke-linecap: round;\r\n  animation: selection-8 0.6s linear infinite reverse;\r\n}\r\n\r\n.pause path.link.active {\r\n  animation-play-state: paused !important;\r\n}\r\n\r\n.dark path.link.active {\r\n  stroke: #fff !important;\r\n}\r\n\r\n.highlight .node:not(.active) rect, .highlight .node:not(.active) circle {\r\n  opacity: 0.28;\r\n}\r\n\r\n.highlight .link:not(.active) {\r\n  opacity: 0.24;\r\n}\r\n\r\n.pads .link:not(.active) {\r\n  opacity: 0.16 !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/.pnpm/registry.npmjs.org/thread-loader/2.1.3_webpack@4.41.2/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/registry.npmjs.org/babel-loader/8.0.6_@babel+core@7.6.4+webpack@4.41.2/node_modules/babel-loader/lib/index.js!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Chart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/.pnpm/registry.npmjs.org/thread-loader/2.1.3_webpack@4.41.2/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/registry.npmjs.org/babel-loader/8.0.6_@babel+core@7.6.4+webpack@4.41.2/node_modules/babel-loader/lib/index.js!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Chart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chart.vue?vue&type=template&id=583c82ac&\"\nimport script from \"./Chart.vue?vue&type=script&lang=js&\"\nexport * from \"./Chart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Chart.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticStyle:{\"shape-rendering\":\"crispEdges\"},attrs:{\"width\":_vm.model.width,\"height\":_vm.model.height}},_vm._l((_vm.model.keys),function(path){\nvar _obj;\nreturn _c('path',{key:path.note,class:( _obj = {}, _obj[path.className] = true, _obj.active = path.active, _obj ),attrs:{\"d\":path.path}})}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Based on vue-music-notation 0.1.1\r\n\r\n<template>\r\n  <svg\r\n    :width=\"model.width\"\r\n    :height=\"model.height\"\r\n    style=\"shape-rendering: crispEdges;\">\r\n    <path\r\n      v-for=\"path in model.keys\"\r\n      :key=\"path.note\"\r\n      :d=\"path.path\"\r\n      :class=\"{ [path.className]: true, active: path.active }\" />\r\n  </svg>\r\n</template>\r\n\r\n<script>\r\nconst KEYSHAPES = [\r\n  { type: 0, right: 1 }, // C\r\n  { type: 1 }, // C#\r\n  { type: 0, right: 1, left: 1 }, // D\r\n  { type: 1 }, // D#\r\n  { type: 0, left: 1 }, // E\r\n  { type: 0, right: 1 }, // F\r\n  { type: 1 }, // F#\r\n  { type: 0, right: 1, left: 1 }, // G\r\n  { type: 1 }, // G#\r\n  { type: 0, right: 1, left: 1 }, // A\r\n  { type: 1 }, // A#\r\n  { type: 0, left: 1 } // B\r\n]\r\nconst NATURAL_WIDTH = 8\r\nconst NATURAL_HEIGHT = NATURAL_WIDTH * 5.5\r\nconst SHARP_WIDTH = NATURAL_WIDTH / 2\r\nconst SHARP_HEIGHT = NATURAL_HEIGHT / 2\r\n\r\nexport default {\r\n  props: {\r\n    length: {\r\n      type: Number,\r\n      default: 88\r\n    },\r\n    start: {\r\n      type: Number,\r\n      default: 21\r\n    },\r\n    notes: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  computed: {\r\n    model () {\r\n      const isActive = {}\r\n      this.notes.forEach(n => { isActive[n] = true })\r\n\r\n      const keys = []\r\n\r\n      let position = -NATURAL_WIDTH\r\n      position += 1\r\n      let wasSharp = false\r\n      for (let note = this.start; note < this.start + this.length; note++) {\r\n        const shape = { ...KEYSHAPES[note % 12] }\r\n        if (note === this.start) {\r\n          delete shape.left\r\n        }\r\n        if (note === (this.start + this.length) - 1) {\r\n          delete shape.right\r\n        }\r\n\r\n        let path = ''\r\n        let className = ''\r\n        if (shape.type === 0) {\r\n          position += wasSharp ? (SHARP_WIDTH / 2) : NATURAL_WIDTH\r\n          wasSharp = false\r\n\r\n          if (shape.right && shape.left) {\r\n            path = `M ${position} ${NATURAL_HEIGHT + 1} v ${-SHARP_HEIGHT} `\r\n            path += `h ${(SHARP_WIDTH / 2)} v ${-SHARP_HEIGHT} `\r\n            path += `h ${NATURAL_WIDTH - SHARP_WIDTH} v ${SHARP_HEIGHT} h ${SHARP_WIDTH / 2} `\r\n            path += `v ${SHARP_HEIGHT} h ${-NATURAL_WIDTH}`\r\n          } else if (shape.right) {\r\n            path = `M ${position} ${NATURAL_HEIGHT + 1} v ${-NATURAL_HEIGHT} `\r\n            path += `h ${NATURAL_WIDTH - (SHARP_WIDTH / 2)} v ${SHARP_HEIGHT} `\r\n            path += `h ${SHARP_WIDTH / 2} v ${SHARP_HEIGHT} h ${-NATURAL_WIDTH}`\r\n          } else if (shape.left) {\r\n            path = `M ${position} ${NATURAL_HEIGHT + 1} v ${-SHARP_HEIGHT} `\r\n            path += `h ${SHARP_WIDTH / 2} v ${-SHARP_HEIGHT} `\r\n            path += `h ${NATURAL_WIDTH - (SHARP_WIDTH / 2)} v ${NATURAL_HEIGHT} h ${-NATURAL_WIDTH}`\r\n          } else {\r\n            path = `M ${position} ${NATURAL_HEIGHT + 1} v ${-NATURAL_HEIGHT} `\r\n            path += `h ${NATURAL_WIDTH} v ${NATURAL_HEIGHT} h ${-NATURAL_WIDTH}`\r\n          }\r\n          className = 'natural'\r\n        } else {\r\n          position += NATURAL_WIDTH - (SHARP_WIDTH / 2)\r\n\r\n          path = `M ${position} ${SHARP_HEIGHT + 1} v ${-SHARP_HEIGHT} `\r\n          path += `h ${SHARP_WIDTH} v ${SHARP_HEIGHT} h ${-SHARP_WIDTH}`\r\n\r\n          wasSharp = true\r\n          className = 'sharp'\r\n        }\r\n\r\n        keys.push({\r\n          path,\r\n          className,\r\n          note,\r\n          active: isActive[note] !== undefined\r\n        })\r\n      }\r\n\r\n      return {\r\n        keys,\r\n        height: NATURAL_HEIGHT + 2,\r\n        width: position + NATURAL_WIDTH + 2\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.natural {\r\n  fill: rgba(255, 255, 255, 0.92);\r\n  stroke-width: 1;\r\n  stroke: rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n.sharp {\r\n  fill: rgba(0, 0, 0, 1);\r\n  stroke-width: 1;\r\n  stroke: rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n.active {\r\n  fill: rgb(0, 255, 68);\r\n  fill-opacity: .87;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/.pnpm/registry.npmjs.org/thread-loader/2.1.3_webpack@4.41.2/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/registry.npmjs.org/babel-loader/8.0.6_@babel+core@7.6.4+webpack@4.41.2/node_modules/babel-loader/lib/index.js!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Keyboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/.pnpm/registry.npmjs.org/thread-loader/2.1.3_webpack@4.41.2/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/registry.npmjs.org/babel-loader/8.0.6_@babel+core@7.6.4+webpack@4.41.2/node_modules/babel-loader/lib/index.js!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Keyboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Keyboard.vue?vue&type=template&id=3dbbd7cc&scoped=true&\"\nimport script from \"./Keyboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Keyboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Keyboard.vue?vue&type=style&index=0&id=3dbbd7cc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3dbbd7cc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-list',{staticClass:\"py-0\"},[_c('v-list-item',{staticClass:\"py-3\"},[_c('v-row',{attrs:{\"justify\":\"space-between\",\"align\":\"center\",\"no-gutters\":\"\"}},[_c('v-btn-toggle',{staticClass:\"ma-3\",attrs:{\"mandatory\":_vm.progressionTypes.some(function (ref) {\n        var value = ref.value;\n\n        return value === _vm.progressionType;\n}),\"rounded\":\"\"},model:{value:(_vm.progressionType),callback:function ($$v) {_vm.progressionType=$$v},expression:\"progressionType\"}},_vm._l((_vm.progressionTypes),function(ref,index){\nvar name = ref.name;\nvar value = ref.value;\nreturn _c('v-btn',{key:index,attrs:{\"text\":\"\",\"value\":value},domProps:{\"textContent\":_vm._s(name)}})}),1),_c('v-menu',{attrs:{\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"ma-3\",attrs:{\"text\":\"\"}},on),[_vm._v(\"\\n            More\\n          \")])]}}])},[_c('v-card',[_c('v-list',_vm._l((_vm.progressionTypesMore),function(ref,index){\nvar name = ref.name;\nvar value = ref.value;\nreturn _c('v-list-item',{key:index,on:{\"click\":function($event){_vm.progressionType = value}}},[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(name)}})],1)}),1)],1)],1)],1)],1),_c('v-divider'),_c('v-list-item',{staticClass:\"py-5 px-0\"},[_c('v-flex'),_c('div',{staticStyle:{\"position\":\"relative\",\"height\":\"200px\",\"width\":\"200px\"}},[_c('v-row',{staticClass:\"text-center\",staticStyle:{\"position\":\"absolute\",\"top\":\"82px\",\"width\":\"100%\",\"display\":\"flex\"},attrs:{\"align\":\"center\",\"no-gutters\":\"\"}},[_c('v-flex'),_c('v-btn',{staticStyle:{\"font-size\":\"15px\"},attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.rootOctave = _vm.octaves[(_vm.octaves.indexOf(_vm.rootOctave) - 1 + _vm.octaves.length) % _vm.octaves.length]}}},[_vm._v(\"\\n          \\n        \")]),_c('span',{staticStyle:{\"min-width\":\"24px\",\"font-size\":\"15px\",\"display\":\"inline-block\",\"text-align\":\"center\"},domProps:{\"textContent\":_vm._s(_vm.rootOctave)}}),_c('v-btn',{staticStyle:{\"font-size\":\"15px\"},attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.rootOctave = _vm.octaves[(_vm.octaves.indexOf(_vm.rootOctave) + 1) % _vm.octaves.length]}}},[_vm._v(\"\\n          +\\n        \")]),_c('v-flex')],1),_vm._l((_vm.pitches),function(v,i){return _c('v-btn',{key:i,class:_vm.rootPitch === v ? 'grey darken-1' : null,staticStyle:{\"position\":\"absolute\",\"font-size\":\"15px\"},style:({\n          left: ((100 -36/2 + 78 * Math.sin(i / _vm.pitches.length * 2 * Math.PI)) + \"px\"),\n          top: ((100 -36/2 + 78 * -Math.cos(i / _vm.pitches.length * 2 * Math.PI)) + \"px\")\n        }),attrs:{\"dark\":_vm.rootPitch === v,\"icon\":\"\"},domProps:{\"textContent\":_vm._s((\"\" + (v[0]) + (v[1] ? _vm.accidentals[1].name : '')))},on:{\"click\":function($event){_vm.rootPitch = v}}})})],2),_c('v-flex')],1),_c('v-divider'),_c('v-list-item',{staticClass:\"py-3\"},[_c('v-row',{attrs:{\"justify\":\"space-between\",\"no-gutters\":\"\"}},[_c('v-btn-toggle',{staticClass:\"my-3\",attrs:{\"rounded\":\"\"},model:{value:(_vm.layoutPads),callback:function ($$v) {_vm.layoutPads=$$v},expression:\"layoutPads\"}},[_c('v-btn',{attrs:{\"text\":\"\",\"value\":true}},[_vm._v(\"\\n          Pads\\n        \")])],1),_c('v-btn-toggle',{staticClass:\"my-3\",attrs:{\"rounded\":\"\"},model:{value:(_vm.formatRoman),callback:function ($$v) {_vm.formatRoman=$$v},expression:\"formatRoman\"}},[_c('v-btn',{attrs:{\"text\":\"\",\"value\":true}},[_vm._v(\"\\n          Roman\\n        \")])],1),_c('v-btn-toggle',{staticClass:\"my-3\",attrs:{\"rounded\":\"\"},model:{value:(_vm.chartBass),callback:function ($$v) {_vm.chartBass=$$v},expression:\"chartBass\"}},[_c('v-btn',{attrs:{\"text\":\"\",\"value\":true}},[_vm._v(\"\\n          /Bass\\n        \")])],1),_c('v-btn-toggle',{staticClass:\"my-3\",attrs:{\"rounded\":\"\"},model:{value:(_vm.chartSimple),callback:function ($$v) {_vm.chartSimple=$$v},expression:\"chartSimple\"}},[_c('v-btn',{attrs:{\"text\":\"\",\"value\":true}},[_vm._v(\"\\n          Simple\\n        \")])],1)],1)],1),_c('v-divider'),_c('v-list-item',{staticClass:\"py-3\"},[_c('v-row',{attrs:{\"justify\":\"space-between\",\"align\":\"center\",\"no-gutters\":\"\"}},[_c('v-menu',{attrs:{\"min-width\":\"300\",\"max-width\":\"520\",\"close-on-content-click\":false,\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n        var on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"my-3\",attrs:{\"text\":\"\"}},on),[_vm._v(\"\\n            Channels\\n          \")])]}}])},[_c('v-card',[_c('v-simple-table',{attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left\"},[_vm._v(\"\\n                    Bass\\n                  \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"\\n                    Mid\\n                  \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"\\n                    Voice\\n                  \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"\\n                    Octave\\n                  \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"\\n                    Channel\\n                  \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"\\n                    Velocity\\n                  \")]),_c('th',{staticClass:\"text-left\"})])]),_c('tbody',[_vm._l((_vm.channels),function(v,key){return _c('tr',{key:key},[_c('td',[_c('v-checkbox',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\"},model:{value:(v.bass),callback:function ($$v) {_vm.$set(v, \"bass\", $$v)},expression:\"v.bass\"}})],1),_c('td',[_c('v-checkbox',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\"},model:{value:(v.mid),callback:function ($$v) {_vm.$set(v, \"mid\", $$v)},expression:\"v.mid\"}})],1),_c('td',[_c('v-checkbox',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\"},model:{value:(v.voice),callback:function ($$v) {_vm.$set(v, \"voice\", $$v)},expression:\"v.voice\"}})],1),_c('td',[_c('v-text-field',{staticClass:\"mt-0\",attrs:{\"min\":\"-8\",\"max\":\"8\",\"hide-details\":\"\",\"type\":\"number\"},on:{\"keydown\":function($event){$event.stopPropagation();}},model:{value:(v.octave),callback:function ($$v) {_vm.$set(v, \"octave\", $$v)},expression:\"v.octave\"}})],1),_c('td',[_c('v-text-field',{staticClass:\"mt-0\",attrs:{\"min\":\"1\",\"max\":\"16\",\"hide-details\":\"\",\"type\":\"number\"},on:{\"keydown\":function($event){$event.stopPropagation();}},model:{value:(v.channel),callback:function ($$v) {_vm.$set(v, \"channel\", $$v)},expression:\"v.channel\"}})],1),_c('td',[_c('v-text-field',{staticClass:\"mt-0\",attrs:{\"min\":\"1\",\"max\":\"127\",\"hide-details\":\"\",\"type\":\"number\"},on:{\"keydown\":function($event){$event.stopPropagation();}},model:{value:(v.velocity),callback:function ($$v) {_vm.$set(v, \"velocity\", $$v)},expression:\"v.velocity\"}})],1),_c('td',[(_vm.channels.length > 1)?_c('v-btn',{attrs:{\"color\":\"accent\",\"small\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.channels.splice(_vm.channels.indexOf(v), 1)}}},[_c('v-icon',[_vm._v(\"mdi-close-circle\")])],1):_vm._e()],1)])}),_c('tr',[_c('td',{attrs:{\"colspan\":\"6\"}}),_c('td',[_c('v-btn',{staticClass:\"my-2\",attrs:{\"color\":\"accent\",\"light\":\"\",\"small\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.channels.push(Object.assign({}, _vm.channels[_vm.channels.length - 1]))}}},[_c('v-icon',[_vm._v(\"mdi-plus-circle\")])],1)],1)])],2)]},proxy:true}])})],1)],1),_c('v-menu',{attrs:{\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n        var on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"my-3\",attrs:{\"text\":\"\"},on:{\"click\":_vm.initMidi}},on),[_vm._v(\"\\n            MIDI\\n          \")])]}}])},[(_vm.midiStatus.loading)?_c('v-card',{staticClass:\"pa-3\"},[_c('v-progress-circular',{staticClass:\"mr-2\",attrs:{\"indeterminate\":\"\",\"size\":48-3,\"width\":6,\"color\":\"accent\"}}),_c('i',[_vm._v(\"Waiting for MIDI...\")])],1):_c('v-card',[_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){_vm.midiOutput = null}}},[_c('v-list-item-title',[_vm._v(\"\\n                None\\n              \")]),_c('v-list-item-action',[(_vm.midiOutput === null)?_c('v-icon',{attrs:{\"color\":\"accent\"}},[_vm._v(\"\\n                  mdi-check\\n                \")]):_vm._e()],1)],1),(_vm.midiStatus.outputs && _vm.midiStatus.outputs.length)?_c('v-divider'):_vm._e(),_vm._l((_vm.midiStatus.outputs),function(output,key){return _c('v-list-item',{key:key,on:{\"click\":function($event){_vm.midiOutput = output}}},[_c('v-list-item-title',[_vm._v(\"\\n                \"+_vm._s(output.name)+\"\\n              \")]),_c('v-list-item-action',[(_vm.midiOutput === output)?_c('v-icon',{attrs:{\"color\":\"accent\"}},[_vm._v(\"\\n                  mdi-check\\n                \")]):_vm._e()],1)],1)})],2)],1)],1),_c('v-btn-toggle',{staticClass:\"my-3\",attrs:{\"rounded\":\"\"},model:{value:(_vm.dark),callback:function ($$v) {_vm.dark=$$v},expression:\"dark\"}},[_c('v-btn',{attrs:{\"text\":\"\",\"value\":true}},[_vm._v(\"\\n          Dark\\n        \")])],1)],1)],1),_c('v-divider'),_c('p',{staticClass:\"ma-0 pa-5\"},[_vm._v(\"\\n    Begin with blue box.\\n    Follow to the right.\\n    Jump to green one at any time and follow to the right.\\n    Use +3/-3 chord inversion buttons or W/S hot keys.\\n    See and replay recent chords on the right (hot keys 1-9).\\n    Have fun!\\n  \")]),_c('v-divider')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\r\n  map: {\r\n    1: { name: 'I', alt: '2,6,M7,M9,sus', links: [], group: 0 },\r\n    2: { name: 'V', alt: '7,9,11,13,sus', links: [1], group: 1 },\r\n    3: { name: 'IV', alt: '6,M7,m,m6', links: [2, 1, 7, 8, 11], group: 1 },\r\n    4: { name: 'iiim', alt: 'm7', links: [9, 3, 1], group: 1 },\r\n    5: { name: 'iim', alt: 'm7,m9', links: [4, 10], group: 1 },\r\n    6: { name: 'IV/1', links: [1], group: 4 },\r\n    7: { name: 'I/5', links: [2], group: 4 },\r\n    8: { name: 'iim', alt: 'm7,m9', links: [7, 2, 27, 28], group: 1 },\r\n    9: { name: 'vim', alt: 'm7,m9', links: [8, 3], group: 1 },\r\n    10: { name: 'V', alt: '7,9,11,13,sus', links: [9, 4], group: 1 },\r\n    11: { name: 'I/3', links: [8], group: 3 },\r\n    12: { name: 'bVII', alt: '9', links: [1], group: 3 },\r\n    13: { name: 'bVI', links: [12], group: 3 },\r\n    14: { name: 'II', alt: '7,9,b9', links: [2], group: 2 },\r\n    15: { name: 'V/2', links: [14], group: 3 },\r\n    16: { name: 'Im6', links: [14, 15], group: 3 },\r\n    17: { name: '#IV', links: [2], group: 3 },\r\n    18: { name: 'I', alt: '7,9,b9', links: [3], group: 2 },\r\n    19: { name: 'Vm', alt: '7', links: [18], group: 3 },\r\n    20: { name: 'III', links: [3], group: 3 },\r\n    21: { name: 'VII', alt: '7,9,b9', links: [4], group: 2 },\r\n    22: { name: '#IV', links: [21], group: 3 },\r\n    23: { name: '#IIo7', links: [4], group: 3 },\r\n    24: { name: 'VI', alt: '7,9,b9', links: [5], group: 2 },\r\n    25: { name: 'III', links: [24], group: 3 },\r\n    26: { name: '#Io7', links: [5], group: 3 },\r\n    27: { name: 'bII7', links: [1], group: 3 },\r\n    28: { name: 'IVm7', links: [1], group: 3 },\r\n    29: { name: '#IV', links: [7], group: 3 },\r\n    30: { name: 'bVII9', links: [7], group: 3 },\r\n    31: { name: 'bVI7', links: [7], group: 3 },\r\n    32: { name: 'Io/b3', links: [8], group: 3 },\r\n    33: { name: 'VI', alt: '7,9,b9', links: [8], group: 2 },\r\n    34: { name: 'III', links: [33], group: 3 },\r\n    35: { name: '#Io7', links: [8], group: 3 },\r\n    36: { name: 'III', alt: '7,9,b9', links: [9], group: 2 },\r\n    37: { name: 'VII', links: [36], group: 3 },\r\n    38: { name: '#Vo7', links: [9], group: 3 },\r\n    39: { name: 'II', alt: '7,9,b9', links: [10], group: 2 },\r\n    40: { name: 'VI/b3', links: [39], group: 3 },\r\n    41: { name: '#IV', links: [10], group: 3 },\r\n    42: { name: 'V/1', links: [1], group: 4 }\r\n  }\r\n}\r\n","export default {\r\n  map: {\r\n    1: { name: 'im', alt: '2,sus', links: [], group: 0 },\r\n    2: { name: 'V', alt: '7,b9,b13,sus', links: [1], group: 1 },\r\n    3: { name: 'bII/4', links: [2, 16, 12, 10], group: 4 },\r\n    4: { name: 'ivm', alt: 'm6,m7,m9', links: [2, 1], group: 1 },\r\n    5: { name: 'im/b3', links: [3, 14], group: 4 },\r\n    6: { name: 'bIII+', links: [4, 1], group: 1 },\r\n    7: { name: 'viio/2', links: [5, 15], group: 4 },\r\n    8: { name: 'iio', links: [6], group: 1 },\r\n    9: { name: 'ivm/1', links: [1], group: 4 },\r\n    10: { name: 'im/5', links: [2], group: 4 },\r\n    11: { name: 'viio/2', links: [10], group: 4 },\r\n    12: { name: 'iio', links: [2, 27], group: 1 },\r\n    13: { name: 'ivm/6', alt: 'm6/b6,m7/b6', links: [11], group: 4 },\r\n    14: { name: 'bVI', alt: '6,M7', links: [3, 12], group: 1 },\r\n    15: { name: 'V', alt: '7,b9,b13,sus', links: [5, 13, 14], group: 1 },\r\n    16: { name: 'im/b3', links: [12], group: 4 },\r\n    17: { name: 'bVII', alt: '9', links: [1], group: 2 },\r\n    18: { name: 'bVI', links: [17], group: 2 },\r\n    19: { name: 'II', alt: '7,b9', links: [2], group: 2 },\r\n    20: { name: 'vi', links: [19], group: 2 },\r\n    21: { name: '#ivo7', links: [2], group: 2 },\r\n    22: { name: 'I', alt: '7,b9', links: [4], group: 2 },\r\n    23: { name: 'Vo7', alt: '', links: [22], group: 2 },\r\n    24: { name: 'iiio7', links: [4], group: 2 },\r\n    // Same as 15\r\n    // 25: { name: 'V', alt: '7,b9', links: [6], group: 2 },\r\n    26: { name: 'iio7', links: [6], group: 2 },\r\n    27: { name: 'ivm7', links: [1], group: 2 },\r\n    28: { name: '#ivo7', links: [10], group: 2 },\r\n    29: { name: 'bVI7', links: [10], group: 2 },\r\n    30: { name: 'bIII', alt: '7,9,b9', links: [13], group: 2 },\r\n    31: { name: 'bvii', links: [30], group: 2 },\r\n    32: { name: 'V', alt: 'o7', links: [13], group: 2 },\r\n    33: { name: 'II', alt: '7,b9', links: [15], group: 2 },\r\n    34: { name: 'vi', links: [33], group: 2 },\r\n    35: { name: '#ivo7', links: [15], group: 2 },\r\n    36: { name: 'V/1', links: [1], group: 4 }\r\n  },\r\n  joints: [\r\n    [8, 7],\r\n    [6, 5],\r\n    [4, 3],\r\n    [14, 13],\r\n    [12, 11]\r\n  ]\r\n}\r\n","export default {\r\n  map: {\r\n    1: { name: 'I', alt: 'M7', links: [], group: 0 },\r\n    2: { name: 'iim', alt: 'm7', links: [5], group: 2 },\r\n    3: { name: 'iiim', alt: 'm7', links: [6], group: 3 },\r\n    4: { name: 'IV', alt: 'M7', links: [7], group: 2 },\r\n    5: { name: 'V', alt: '7', links: [1], group: 1 },\r\n    6: { name: 'vim', alt: 'm7', links: [2], group: 3 },\r\n    7: { name: 'viio', alt: '', links: [3], group: 1 },\r\n    8: { name: 'I', alt: 'M7', links: [4], group: 0 }\r\n  }\r\n}\r\n","export default {\r\n  map: {\r\n    1: { name: 'im', alt: 'm7', links: [], group: 0 },\r\n    2: { name: 'iio', alt: '', links: [5], group: 2 },\r\n    3: { name: 'III', alt: 'M7', links: [6], group: 3 },\r\n    4: { name: 'ivm', alt: 'm7', links: [7], group: 2 },\r\n    5: { name: 'vm', alt: 'm7', links: [1], group: 1 },\r\n    6: { name: 'VI', alt: 'M7', links: [2], group: 3 },\r\n    7: { name: 'VII', alt: '7', links: [3], group: 1 },\r\n    8: { name: 'im', alt: 'm7', links: [4], group: 0 }\r\n  }\r\n}\r\n","export default {\r\n  map: {\r\n    1: { name: 'V', alt: '7', links: [], group: 1 },\r\n    2: { name: 'I', alt: '7', links: [1], group: 0 },\r\n    3: { name: 'IV', alt: '7', links: [2], group: 2 },\r\n    4: { name: 'I', alt: '7', links: [3], group: 0 },\r\n    5: { name: 'IV', alt: '7', links: [4], group: 2 },\r\n    6: { name: 'IV', alt: '7', links: [5], group: 2 },\r\n    7: { name: 'V', alt: '7', links: [6], group: 1 },\r\n    8: { name: 'I', alt: '7', links: [7], group: 0 }\r\n  }\r\n}\r\n","export default {\r\n  map: {\r\n    1: { name: 'V', alt: '7', links: [], group: 1 },\r\n    2: { name: 'I', alt: '7', links: [1], group: 0 },\r\n    3: { name: 'IV', alt: '7', links: [2], group: 2 },\r\n    4: { name: 'V', alt: '7', links: [3], group: 0 },\r\n    5: { name: 'I', alt: '7', links: [4], group: 0 },\r\n    6: { name: 'I', alt: '7', links: [5], group: 0 },\r\n    7: { name: 'IV', alt: '7', links: [6], group: 2 },\r\n    8: { name: 'IV', alt: '7', links: [7], group: 2 },\r\n    9: { name: 'I', alt: '7', links: [8], group: 0 },\r\n    10: { name: 'I', alt: '7', links: [9], group: 0 },\r\n    11: { name: 'IV', alt: '7', links: [10], group: 2 },\r\n    12: { name: 'I', alt: '7', links: [11], group: 0 }\r\n  }\r\n}\r\n","import * as items from './index'\r\n\r\nObject.values(items).forEach(pro => {\r\n  Object.freeze(pro)\r\n  Object.values(pro.map).forEach(item => Object.freeze(item))\r\n})\r\n\r\nexport default items\r\n","import Vue from 'vue'\r\nimport frozen from '../data/frozen'\r\nimport { formatNumber } from '../utils/format'\r\n\r\nconst { major, minor, majorDegrees, minorDegrees, blues8, blues12 } = frozen\r\n\r\nconst defaultChannels = Object.freeze([\r\n  {\r\n    bass: true,\r\n    mid: true,\r\n    voice: true,\r\n    octave: 0,\r\n    channel: 1,\r\n    velocity: 64\r\n  },\r\n  {\r\n    bass: true,\r\n    mid: false,\r\n    voice: false,\r\n    octave: -1,\r\n    channel: 2,\r\n    velocity: 32\r\n  }\r\n])\r\n\r\nconst data = {\r\n  // Progression\r\n  progressionType: major,\r\n\r\n  // Root\r\n  rootOctave: 4,\r\n  rootPitch: 'C',\r\n  rootAccidental: null,\r\n\r\n  // Chord\r\n  inversion: 0,\r\n\r\n  // Chart\r\n  formatRoman: false,\r\n  layoutPads: null,\r\n  chartBass: true,\r\n  chartSimple: null,\r\n\r\n  // View\r\n  dark: null,\r\n\r\n  // MIDI\r\n  volume: 64,\r\n  midiOutput: null,\r\n  channels: defaultChannels.map(o => ({ ...o })),\r\n\r\n  // Constants\r\n  defaultChannels,\r\n  octaves: Object.freeze([1, 2, 3, 4, 5, 6]),\r\n  inversions: Object.freeze([-3, -2, -1, 0, 1, 2, 3, 'A'].map(value => ({ value, text: formatNumber(value) }))),\r\n  pitches: Object.freeze('C C# D D# E F F# G G# A A# B'.split(' ')),\r\n  progressionTypes: Object.freeze([\r\n    { name: 'Major', value: major },\r\n    { name: 'Minor', value: minor }\r\n    // { name: 'Circular', value: circular }\r\n  ]),\r\n  progressionTypesMore: Object.freeze([\r\n    { name: 'Major circular', value: majorDegrees },\r\n    { name: 'Minor circular', value: minorDegrees },\r\n    { name: '8 blues', value: blues8 },\r\n    { name: '12 blues', value: blues12 }\r\n  ]),\r\n  accidentals: Object.freeze([\r\n    { name: '', value: null },\r\n    { name: '', value: '#' },\r\n    { name: '', value: 'b' }\r\n  ])\r\n}\r\n\r\nnew Vue({ data }) // eslint-disable-line no-new\r\n\r\nexport default data\r\n","export function sync (global, name) {\r\n  return {\r\n    [name]: {\r\n      get () {\r\n        return global[name]\r\n      },\r\n      set (value) {\r\n        global[name] = value\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function syncAll (global) {\r\n  return Object.keys(global).reduce((acc, key) => ({ ...acc, ...sync(global, key) }), {})\r\n}\r\n","import global from './Global'\r\nimport { syncAll } from '../utils/sync'\r\n\r\nexport default {\r\n  computed: {\r\n    ...syncAll(global),\r\n    rootNote () {\r\n      return `${this.rootPitch}${this.rootAccidental || ''}`\r\n    },\r\n    rootNoteOctave () {\r\n      return `${this.rootNote}${this.rootOctave}`\r\n    }\r\n  }\r\n}\r\n","export default function () {\r\n  return {\r\n    store: {},\r\n    add (notes, value, channel) {\r\n      for (const note of notes) {\r\n        this.store[channel] = this.store[channel] || {}\r\n        this.store[channel][note] = this.store[channel][note] || 0\r\n        this.store[channel][note] += value\r\n      }\r\n    },\r\n    register (notes, channel = 0) {\r\n      this.add(notes, 1, channel)\r\n    },\r\n    unregister (notes, channel = 0) {\r\n      this.add(notes, -1, channel)\r\n    },\r\n    stopping (notes, channel = 0) {\r\n      return notes.filter(node => this.store[channel] && this.store[channel][node])\r\n    },\r\n    releasing (notes, channel = 0) {\r\n      return notes.filter(note => !this.store[channel] || !this.store[channel][note])\r\n    }\r\n  }\r\n}\r\n","import WebMidi from 'webmidi'\r\nimport Register from './register'\r\nimport bindMethods from 'bind-methods'\r\nimport { groupBy } from 'rambdax'\r\n\r\nexport const midiStatus = {\r\n  loading: false,\r\n  fail: false,\r\n  outputs: null,\r\n  initialized: false\r\n}\r\n\r\nconst { register, unregister, stopping, releasing } = bindMethods(new Register())\r\n\r\nexport function getMidiPlay (midiOutput) {\r\n  return {\r\n    start (notes, channel, velocity) {\r\n      midiOutput.playNote(notes, channel, { velocity, rawVelocity: true })\r\n    },\r\n    stop (releasedNotes, channel) {\r\n      midiOutput.stopNote(releasedNotes, channel)\r\n    }\r\n  }\r\n}\r\n\r\nexport function enable () {\r\n  return new Promise((resolve, reject) => {\r\n    WebMidi.enable(function (err) {\r\n      if (err) {\r\n        reject(err)\r\n      } else {\r\n        resolve()\r\n      }\r\n    }, true)\r\n  })\r\n}\r\n\r\nexport async function initMidi () {\r\n  if (midiStatus.initialized) {\r\n    return\r\n  }\r\n\r\n  midiStatus.initialized = true\r\n\r\n  try {\r\n    midiStatus.loading = true\r\n    await enable()\r\n    midiStatus.outputs = WebMidi.outputs\r\n    midiStatus.loading = false\r\n  } catch (err) {\r\n    midiStatus.loading = false\r\n    midiStatus.fail = true\r\n    // console.error(err)\r\n  }\r\n}\r\n\r\nexport function play ({ start, stop }, notes, channels, release = false) {\r\n  const mix = mixChannels(notes, channels)\r\n\r\n  mix.forEach(([channel, velocities]) => {\r\n    velocities.forEach(([velocity, ns]) => {\r\n      const n = ns.map(([note]) => note)\r\n      playChannel({ start, stop }, n, channel, velocity, release)\r\n    })\r\n  })\r\n}\r\n\r\nfunction playChannel ({ start, stop }, notes, channel, velocity, release = false) {\r\n  if (release) {\r\n    unregister(notes, channel)\r\n    const releasedNotes = releasing(notes, channel)\r\n\r\n    if (releasedNotes.length) {\r\n      stop(releasedNotes, channel)\r\n    }\r\n  } else {\r\n    const toStop = stopping(notes, channel)\r\n\r\n    if (toStop.length) {\r\n      stop(toStop, channel)\r\n    }\r\n\r\n    start(notes, channel, velocity)\r\n    register(notes, channel)\r\n  }\r\n}\r\n\r\nfunction mixChannels (notes, channels) {\r\n  const array = getChannelNotesVolumes(notes, channels)\r\n  const channelGroups = numericEntries(groupByChannel(array))\r\n\r\n  return channelGroups.map(\r\n    ([channel, array]) => ([\r\n      channel,\r\n      numericEntries(groupByVelocity(numericEntries(groupByNote(array))\r\n        .map(([note, array]) => ([note, filterLoudest(array)]))))\r\n    ]))\r\n}\r\n\r\nexport function getChannelNotesVolumes (notes, channels) {\r\n  return channels.reduce((acc, { bass, mid, voice, octave, channel, velocity }) => {\r\n    const t = n => n + octave * 12\r\n\r\n    if (bass) {\r\n      acc.push({ note: t(notes[0]), channel, velocity })\r\n    }\r\n\r\n    if (voice) {\r\n      acc.push({ note: t(notes[notes.length - 1]), channel, velocity })\r\n    }\r\n\r\n    if (mid) {\r\n      for (let i = 1; i < (notes.length - 1); i++) {\r\n        acc.push({ note: t(notes[i]), channel, velocity })\r\n      }\r\n    }\r\n\r\n    return acc\r\n  }, [])\r\n}\r\n\r\nfunction groupByChannel (array) {\r\n  return groupBy(({ channel }) => channel)(array)\r\n}\r\n\r\nfunction groupByNote (array) {\r\n  return groupBy(({ note }) => note)(array)\r\n}\r\n\r\nfunction groupByVelocity (array) {\r\n  return groupBy(([note, { velocity }]) => velocity)(array)\r\n}\r\n\r\nfunction numericEntries (o) {\r\n  return Object.entries(o).map(([key, value]) => [parseInt(key), value])\r\n}\r\n\r\nfunction filterLoudest (array) {\r\n  if (array.length === 1) {\r\n    return array[0]\r\n  }\r\n\r\n  const max = Math.max(...array.map(({ velocity }) => velocity))\r\n\r\n  return array.find(({ velocity }) => velocity === max)\r\n}\r\n\r\nexport function singleChannel (channels) {\r\n  return channels.map(c => ({ ...c, channel: 1 }))\r\n}\r\n","<template>\r\n  <v-list class=\"py-0\">\r\n    <v-list-item class=\"py-3\">\r\n      <v-row\r\n        justify=\"space-between\"\r\n        align=\"center\"\r\n        no-gutters>\r\n        <v-btn-toggle\r\n          v-model=\"progressionType\"\r\n          class=\"ma-3\"\r\n          :mandatory=\"progressionTypes.some(({ value }) => value === progressionType)\"\r\n          rounded>\r\n          <v-btn\r\n            v-for=\"({name, value}, index) in progressionTypes\"\r\n            :key=\"index\"\r\n            text\r\n            :value=\"value\"\r\n            v-text=\"name\" />\r\n        </v-btn-toggle>\r\n        <v-menu\r\n          left>\r\n          <template v-slot:activator=\"{ on }\">\r\n            <v-btn\r\n              class=\"ma-3\"\r\n              text\r\n              v-on=\"on\">\r\n              More\r\n            </v-btn>\r\n          </template>\r\n          <v-card>\r\n            <v-list>\r\n              <v-list-item\r\n                v-for=\"({name, value}, index) in progressionTypesMore\"\r\n                :key=\"index\"\r\n                @click=\"progressionType = value\">\r\n                <v-list-item-title v-text=\"name\" />\r\n              </v-list-item>\r\n            </v-list>\r\n          </v-card>\r\n        </v-menu>\r\n      </v-row>\r\n    </v-list-item>\r\n    <v-divider />\r\n    <v-list-item class=\"py-5 px-0\">\r\n      <v-flex />\r\n      <div style=\"position: relative;height: 200px; width: 200px;\">\r\n        <v-row\r\n          align=\"center\"\r\n          no-gutters\r\n          style=\"position: absolute; top: 82px; width: 100%; display: flex;\"\r\n          class=\"text-center\">\r\n          <v-flex />\r\n          <v-btn\r\n            icon\r\n            style=\"font-size: 15px;\"\r\n            @click=\"rootOctave = octaves[(octaves.indexOf(rootOctave) - 1 + octaves.length) % octaves.length]\">\r\n            &minus;\r\n          </v-btn>\r\n          <span\r\n            style=\"min-width: 24px; font-size: 15px; display: inline-block; text-align: center;\"\r\n            v-text=\"rootOctave\" />\r\n          <v-btn\r\n            icon\r\n            style=\"font-size: 15px;\"\r\n            @click=\"rootOctave = octaves[(octaves.indexOf(rootOctave) + 1) % octaves.length]\">\r\n            +\r\n          </v-btn>\r\n          <v-flex />\r\n        </v-row>\r\n        <v-btn\r\n          v-for=\"(v, i) in pitches\"\r\n          :key=\"i\"\r\n          style=\"position: absolute; font-size: 15px;\"\r\n          :class=\"rootPitch === v ? 'grey darken-1' : null\"\r\n          :dark=\"rootPitch === v\"\r\n          :style=\"{\r\n            left: `${100 -36/2 + 78 * Math.sin(i / pitches.length * 2 * Math.PI)}px`,\r\n            top: `${100 -36/2 + 78 * -Math.cos(i / pitches.length * 2 * Math.PI)}px`\r\n          }\"\r\n          icon\r\n          @click=\"rootPitch = v\"\r\n          v-text=\"`${v[0]}${v[1] ? accidentals[1].name : ''}`\" />\r\n      </div>\r\n      <v-flex />\r\n    </v-list-item>\r\n    <v-divider />\r\n    <v-list-item class=\"py-3\">\r\n      <v-row\r\n        justify=\"space-between\"\r\n        no-gutters>\r\n        <v-btn-toggle\r\n          v-model=\"layoutPads\"\r\n          class=\"my-3\"\r\n          rounded>\r\n          <v-btn\r\n            text\r\n            :value=\"true\">\r\n            Pads\r\n          </v-btn>\r\n        </v-btn-toggle>\r\n        <v-btn-toggle\r\n          v-model=\"formatRoman\"\r\n          class=\"my-3\"\r\n          rounded>\r\n          <v-btn\r\n            text\r\n            :value=\"true\">\r\n            Roman\r\n          </v-btn>\r\n        </v-btn-toggle>\r\n        <v-btn-toggle\r\n          v-model=\"chartBass\"\r\n          class=\"my-3\"\r\n          rounded>\r\n          <v-btn\r\n            text\r\n            :value=\"true\">\r\n            /Bass\r\n          </v-btn>\r\n        </v-btn-toggle>\r\n        <v-btn-toggle\r\n          v-model=\"chartSimple\"\r\n          class=\"my-3\"\r\n          rounded>\r\n          <v-btn\r\n            text\r\n            :value=\"true\">\r\n            Simple\r\n          </v-btn>\r\n        </v-btn-toggle>\r\n      </v-row>\r\n    </v-list-item>\r\n    <v-divider />\r\n    <!--    <v-list-item class=\"py-5\">-->\r\n    <!--      <v-slider-->\r\n    <!--        v-model=\"volume\"-->\r\n    <!--        :label=\"!midiOutput ? `${formatNumber(velocityToVolume(volume))} dB` : volume.toString()\"-->\r\n    <!--        inverse-label-->\r\n    <!--        prepend-icon=\"mdi-volume-high\"-->\r\n    <!--        :dark=\"dark\"-->\r\n    <!--        thumb-color=\"grey darken-1\"-->\r\n    <!--        hide-details-->\r\n    <!--        min=\"0\"-->\r\n    <!--        max=\"127\"-->\r\n    <!--        light-->\r\n    <!--        color=\"grey darken-1\"-->\r\n    <!--        track-color=\"rgba(156,156,156,.24)\" />-->\r\n    <!--    </v-list-item>-->\r\n    <!--    <v-divider />-->\r\n    <v-list-item\r\n      class=\"py-3\">\r\n      <v-row\r\n        justify=\"space-between\"\r\n        align=\"center\"\r\n        no-gutters>\r\n        <v-menu\r\n          min-width=\"300\"\r\n          max-width=\"520\"\r\n          :close-on-content-click=\"false\"\r\n          right>\r\n          <template v-slot:activator=\"{ on }\">\r\n            <v-btn\r\n              class=\"my-3\"\r\n              text\r\n              v-on=\"on\">\r\n              Channels\r\n            </v-btn>\r\n          </template>\r\n          <v-card>\r\n            <v-simple-table\r\n              dense>\r\n              <template v-slot:default>\r\n                <thead>\r\n                  <tr>\r\n                    <th class=\"text-left\">\r\n                      Bass\r\n                    </th>\r\n                    <th class=\"text-left\">\r\n                      Mid\r\n                    </th>\r\n                    <th class=\"text-left\">\r\n                      Voice\r\n                    </th>\r\n                    <th class=\"text-left\">\r\n                      Octave\r\n                    </th>\r\n                    <th class=\"text-left\">\r\n                      Channel\r\n                    </th>\r\n                    <th class=\"text-left\">\r\n                      Velocity\r\n                    </th>\r\n                    <th class=\"text-left\" />\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr\r\n                    v-for=\"(v, key) in channels\"\r\n                    :key=\"key\">\r\n                    <td>\r\n                      <v-checkbox\r\n                        v-model=\"v.bass\"\r\n                        class=\"mt-0\"\r\n                        hide-details />\r\n                    </td>\r\n                    <td>\r\n                      <v-checkbox\r\n                        v-model=\"v.mid\"\r\n                        class=\"mt-0\"\r\n                        hide-details />\r\n                    </td>\r\n                    <td>\r\n                      <v-checkbox\r\n                        v-model=\"v.voice\"\r\n                        class=\"mt-0\"\r\n                        hide-details />\r\n                    </td>\r\n                    <td>\r\n                      <v-text-field\r\n                        v-model=\"v.octave\"\r\n                        min=\"-8\"\r\n                        max=\"8\"\r\n                        class=\"mt-0\"\r\n                        hide-details\r\n                        type=\"number\"\r\n                        @keydown.stop=\"\" />\r\n                    </td>\r\n                    <td>\r\n                      <v-text-field\r\n                        v-model=\"v.channel\"\r\n                        min=\"1\"\r\n                        max=\"16\"\r\n                        class=\"mt-0\"\r\n                        hide-details\r\n                        type=\"number\"\r\n                        @keydown.stop=\"\" />\r\n                    </td>\r\n                    <td>\r\n                      <v-text-field\r\n                        v-model=\"v.velocity\"\r\n                        min=\"1\"\r\n                        max=\"127\"\r\n                        class=\"mt-0\"\r\n                        hide-details\r\n                        type=\"number\"\r\n                        @keydown.stop=\"\" />\r\n                    </td>\r\n                    <td>\r\n                      <v-btn\r\n                        v-if=\"channels.length > 1\"\r\n                        color=\"accent\"\r\n                        small\r\n                        icon\r\n                        @click=\"channels.splice(channels.indexOf(v), 1)\">\r\n                        <v-icon>mdi-close-circle</v-icon>\r\n                      </v-btn>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td colspan=\"6\" />\r\n                    <td>\r\n                      <v-btn\r\n                        color=\"accent\"\r\n                        class=\"my-2\"\r\n                        light\r\n                        small\r\n                        icon\r\n                        @click=\"channels.push({...channels[channels.length - 1]})\">\r\n                        <v-icon>mdi-plus-circle</v-icon>\r\n                      </v-btn>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </template>\r\n            </v-simple-table>\r\n          </v-card>\r\n        </v-menu>\r\n        <v-menu\r\n          left>\r\n          <template v-slot:activator=\"{ on }\">\r\n            <v-btn\r\n              class=\"my-3\"\r\n              text\r\n              v-on=\"on\"\r\n              @click=\"initMidi\">\r\n              MIDI\r\n            </v-btn>\r\n          </template>\r\n          <v-card\r\n            v-if=\"midiStatus.loading\"\r\n            class=\"pa-3\">\r\n            <v-progress-circular\r\n              indeterminate\r\n              :size=\"48-3\"\r\n              :width=\"6\"\r\n              color=\"accent\"\r\n              class=\"mr-2\" />\r\n            <i>Waiting for MIDI...</i>\r\n          </v-card>\r\n          <v-card v-else>\r\n            <v-list>\r\n              <v-list-item @click=\"midiOutput = null\">\r\n                <v-list-item-title>\r\n                  None\r\n                </v-list-item-title>\r\n                <v-list-item-action>\r\n                  <v-icon\r\n                    v-if=\"midiOutput === null\"\r\n                    color=\"accent\">\r\n                    mdi-check\r\n                  </v-icon>\r\n                </v-list-item-action>\r\n              </v-list-item>\r\n              <v-divider v-if=\"midiStatus.outputs && midiStatus.outputs.length\" />\r\n              <v-list-item\r\n                v-for=\"(output, key) in midiStatus.outputs\"\r\n                :key=\"key\"\r\n                @click=\"midiOutput = output\">\r\n                <v-list-item-title>\r\n                  {{ output.name }}\r\n                </v-list-item-title>\r\n                <v-list-item-action>\r\n                  <v-icon\r\n                    v-if=\"midiOutput === output\"\r\n                    color=\"accent\">\r\n                    mdi-check\r\n                  </v-icon>\r\n                </v-list-item-action>\r\n              </v-list-item>\r\n            </v-list>\r\n          </v-card>\r\n        </v-menu>\r\n        <v-btn-toggle\r\n          v-model=\"dark\"\r\n          class=\"my-3\"\r\n          rounded>\r\n          <v-btn\r\n            text\r\n            :value=\"true\">\r\n            Dark\r\n          </v-btn>\r\n        </v-btn-toggle>\r\n      </v-row>\r\n    </v-list-item>\r\n    <v-divider />\r\n    <p class=\"ma-0 pa-5\">\r\n      Begin with blue box.\r\n      Follow to the right.\r\n      Jump to green one at any time and follow to the right.\r\n      Use +3/-3 chord inversion buttons or W/S hot keys.\r\n      See and replay recent chords on the right (hot keys 1-9).\r\n      Have fun!\r\n    </p>\r\n    <v-divider />\r\n  </v-list>\r\n</template>\r\n<script>\r\nimport Settable from './Settable'\r\nimport { midiStatus, initMidi } from '../utils/midi'\r\nimport { formatNumber } from '@/utils/format'\r\n\r\nexport default {\r\n  mixins: [Settable],\r\n  data: () => ({ midiStatus }),\r\n  methods: {\r\n    initMidi,\r\n    // velocityToVolume,\r\n    formatNumber\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.sign {\r\n  font-size: 22px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/.pnpm/registry.npmjs.org/thread-loader/2.1.3_webpack@4.41.2/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/registry.npmjs.org/babel-loader/8.0.6_@babel+core@7.6.4+webpack@4.41.2/node_modules/babel-loader/lib/index.js!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/.pnpm/registry.npmjs.org/thread-loader/2.1.3_webpack@4.41.2/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/registry.npmjs.org/babel-loader/8.0.6_@babel+core@7.6.4+webpack@4.41.2/node_modules/babel-loader/lib/index.js!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=4cc798e4&scoped=true&\"\nimport script from \"./Settings.vue?vue&type=script&lang=js&\"\nexport * from \"./Settings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Settings.vue?vue&type=style&index=0&id=4cc798e4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4cc798e4\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VBtnToggle } from 'vuetify/lib/components/VBtnToggle';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VBtnToggle,VCard,VCheckbox,VDivider,VFlex,VIcon,VList,VListItem,VListItemAction,VListItemTitle,VMenu,VProgressCircular,VRow,VSimpleTable,VTextField})\n","export const groups = [\r\n  ['#2af', 'rect', 64, 64, 0.5],\r\n  ['#0df', 'rect', 36, 36, 0.5],\r\n  ['#0f4', 'circle', 24, 24, 16],\r\n  ['#0fc', 'rect', 48, 4, 8],\r\n  ['#0df', 'diamond', 36, 36, 8]\r\n]\r\n","export function pianoCdn (piano, Tone) {\r\n  const type = Tone.ToneAudioBuffer.supportsType('ogg') ? 'ogg' : 'mp3'\r\n\r\n  piano._pedal.samples = cdn('pedals', type)\r\n\r\n  piano._pedal._internalLoad = () => new Promise(resolve => {\r\n    piano._pedal._buffers = new Tone.ToneAudioBuffers({\r\n      down1: `pedalD1.${type}`,\r\n      down2: `pedalD2.${type}`,\r\n      up1: `pedalU1.${type}`,\r\n      up2: `pedalU2.${type}`\r\n    }, resolve, piano._pedal.samples)\r\n  })\r\n\r\n  piano._keybed.samples = cdn('release', type)\r\n  toType(piano._keybed._urls, type)\r\n\r\n  piano._harmonics.samples = cdn('harmonics', type)\r\n  toType(piano._harmonics._urls, type)\r\n\r\n  for (const string of piano._strings._strings) {\r\n    string.samples = cdn(`velocity${velocity(string)}`, type)\r\n    toType(string._urls, type)\r\n  }\r\n\r\n  return piano\r\n}\r\n\r\nfunction toType (urls, type) {\r\n  Object.keys(urls)\r\n    .forEach(key => {\r\n      urls[key] = encodeURIComponent(\r\n        urls[key]\r\n          .replace('[mp3|ogg]', type)\r\n          .replace('s', '#')\r\n      )\r\n    })\r\n}\r\n\r\nfunction cdn (pkg, type) {\r\n  return `https://unpkg.com/@audio-samples/piano-${type === 'mp3' ? 'mp3-' : ''}${pkg}@1.0.3/audio/`\r\n}\r\n\r\nfunction velocity (string) {\r\n  return Object.values(string._urls)[0].matchAll(/v(\\d+)/).next().value[1]\r\n}\r\n","import { pianoCdn } from './pianoCdn'\r\n\r\nlet piano\r\nlet initialized\r\n\r\nexport const playStatus = { loading: false }\r\n\r\nasync function initialize () {\r\n  playStatus.loading = true\r\n\r\n  const Tone = await import('tone')\r\n  window.Tone = Tone\r\n  const Piano = (await import('@tonejs/piano')).default\r\n  piano = new Piano({ velocities: 3, release: false, pedal: false })\r\n  piano.toDestination()\r\n  pianoCdn(piano, Tone)\r\n  await piano.load()\r\n\r\n  playStatus.loading = false\r\n}\r\n\r\nasync function ready () {\r\n  initialized = initialized || initialize()\r\n  await initialized\r\n}\r\n\r\nexport const pianoPlay = {\r\n  async start (notes, channel, velocity) {\r\n    await ready()\r\n\r\n    keyDown(notes, '+0', velocity / 127)\r\n  },\r\n  async stop (notes, channel) {\r\n    await ready()\r\n\r\n    keyUp(notes, '+0.00833333333') // 1 / 120 seconds\r\n  }\r\n}\r\n\r\nfunction keyDown (notes, time, velocity) {\r\n  for (const note of notes) {\r\n    piano.keyDown(note, time, velocity)\r\n  }\r\n}\r\n\r\nfunction keyUp (notes, time) {\r\n  for (const note of notes) {\r\n    piano.keyUp(note, time)\r\n  }\r\n}\r\n","export interface GNode<T> {\r\n  id: string\r\n  parents: GNode<T>[]\r\n  children: GNode<T>[]\r\n  depth?: number\r\n  data: T\r\n  extra?: any\r\n}\r\n\r\nexport interface GDictionary<T> {\r\n  [id: string]: GNode<T>\r\n}\r\n\r\nexport type GList<T> = GNode<T>[]\r\n\r\nexport interface GLink<T> {\r\n  source: GNode<T>\r\n  target: GNode<T>\r\n}\r\n\r\nexport interface GLinkId<T> {\r\n  source: string\r\n  target: string\r\n}\r\n\r\nexport function toList<T> (dic: GDictionary<T>): GList<T> {\r\n  return Object.values(dic)\r\n}\r\n\r\nexport function setNode<T> (dic: GDictionary<T>, id: string, node: GNode<T>) {\r\n  dic[id] = node\r\n}\r\n\r\nexport function getNode<T> (dic: GDictionary<T>, id: string) {\r\n  return dic[id]\r\n}\r\n\r\nexport function delNode<T> (dic: GDictionary<T>, id: string) {\r\n  delete dic[id]\r\n}\r\n\r\nexport function countNodes<T> (dic: GDictionary<T>) {\r\n  return toList(dic).length\r\n}\r\n\r\nexport function add<T> (dic: GDictionary<T>, id: string, data: any) {\r\n  setNode(dic, id, { id, parents: [], children: [], data })\r\n}\r\n\r\nexport function insert<T> (dic: GDictionary<T>, node: GNode<T>) {\r\n  setNode(dic, node.id, node)\r\n}\r\n\r\nexport function link<T> (from: GNode<T>, to: GNode<T>) {\r\n  from.parents.push(to)\r\n  to.children.push(from)\r\n}\r\n\r\nexport function linkUnique<T> (from: GNode<T>, to: GNode<T>) {\r\n  if (!from.parents.includes(to)) {\r\n    from.parents.push(to)\r\n  }\r\n\r\n  if (!to.children.includes(from)) {\r\n    to.children.push(from)\r\n  }\r\n}\r\n\r\nexport function unlink<T> (from: GNode<T>, to: GNode<T>) {\r\n  from.parents.splice(from.parents.indexOf(to), 1)\r\n  to.children.splice(to.children.indexOf(from), 1)\r\n}\r\n\r\nexport function linkById<T> (dic: GDictionary<T>, from: GNode<T>, to: string) {\r\n  link(from, getNode(dic, to))\r\n}\r\n\r\nexport function getRoots<T> (dic: GDictionary<T>) {\r\n  return toList(dic).filter(({ parents }) => parents.length === 0)\r\n}\r\n\r\nexport function getLeafs<T> (dic: GDictionary<T>) {\r\n  return toList(dic).filter(({ children }) => children.length === 0)\r\n}\r\n\r\nexport function getParentLinks<T> (dic: GDictionary<T>) {\r\n  return toList(dic).reduce<GLink<T>[]>((acc, child) => {\r\n    for (const parent of child.parents) {\r\n      acc.push({ source: child, target: parent })\r\n    }\r\n\r\n    return acc\r\n  }, [])\r\n}\r\n\r\nexport function getChildLinks<T> (dic: GDictionary<T>) {\r\n  return toList(dic).reduce<GLink<T>[]>((acc, parent) => {\r\n    for (const child of parent.children) {\r\n      acc.push({ source: child, target: parent })\r\n    }\r\n\r\n    return acc\r\n  }, [])\r\n}\r\n\r\nexport function getSerializedLinks<T> (links: GLink<T>[]) {\r\n  return links.map(({ source, target }) => ({ source: source.id, target: target.id }))\r\n}\r\n\r\nexport function sortLinks<T> (links: GLinkId<T>[]) {\r\n  return links.sort((a, b) => getLinkId(a).localeCompare(getLinkId(b)))\r\n}\r\n\r\nexport function getLinkId<T> ({ source, target }: GLinkId<T>) {\r\n  return `${source}_${target}`\r\n}\r\n\r\nexport function floodDepth<T> (dic: GDictionary<T>) {\r\n  resetDepths(dic)\r\n  getRoots(dic).forEach(floodDepthNode)\r\n}\r\n\r\nexport function floodDepthNode<T> (node: GNode<T>, depth: number = 1) {\r\n  if (!node.depth) {\r\n    node.depth = depth\r\n    depth++\r\n    node.children.forEach((n) => floodDepthNode(n, depth))\r\n  }\r\n}\r\n\r\nexport function resetDepths<T> (dic: GDictionary<T>) {\r\n  toList(dic).forEach(v => { v.depth = 0 })\r\n}\r\n\r\nexport function getMaxDepth<T> (dic: GDictionary<T>) {\r\n  return Math.max(...toList(dic).map(({ depth }) => depth!))\r\n}\r\n\r\nexport function removeNode<T> (dic: GDictionary<T>, node: GNode<T>, deep = true) {\r\n  delNode(dic, node.id)\r\n\r\n  for (const parent of node.parents.slice()) {\r\n    unlink(node, parent)\r\n  }\r\n\r\n  for (const child of node.children.slice()) {\r\n    unlink(child, node)\r\n\r\n    if (deep && (child.parents.length === 0)) {\r\n      removeNode(dic, child)\r\n    }\r\n  }\r\n}\r\n\r\nexport function mergeNodes<T> (dic: GDictionary<T>, primary: GNode<T>, secondary: GNode<T>, remove = true) {\r\n  const parents = secondary.parents.slice()\r\n  const children = secondary.children.slice()\r\n\r\n  if (remove) {\r\n    removeNode(dic, secondary, false)\r\n  }\r\n\r\n  for (const parent of parents) {\r\n    linkUnique(primary, parent)\r\n  }\r\n\r\n  for (const child of children) {\r\n    linkUnique(child, primary)\r\n\r\n    if (remove && !getNode(dic, child.id)) {\r\n      insert(dic, child)\r\n    }\r\n  }\r\n}\r\n\r\nexport function joinNodes<T> (dic: GDictionary<T>, primary: GNode<T>, secondary: GNode<T>) {\r\n  mergeNodes(dic, primary, secondary, false)\r\n}\r\n\r\nexport function getParents<T> (node: GNode<T>): GNode<T>[] {\r\n  return node.parents.reduce<GNode<T>[]>((acc, parent) => {\r\n    return [...acc, ...node.parents, ...getParents(parent)]\r\n  }, [])\r\n}\r\n\r\nexport function getChildren<T> (node: GNode<T>): GNode<T>[] {\r\n  return node.children.reduce<GNode<T>[]>((acc, child) => {\r\n    acc = [...acc, ...node.children.filter(c => !acc.includes(c))]\r\n\r\n    return [...acc, ...getChildren(child).filter(c => !acc.includes(c))]\r\n  }, [])\r\n}\r\n\r\nexport function filter<T> (dic: GDictionary<T>, fn: (node: GNode<T>) => boolean) {\r\n  return toList(dic).filter((node: GNode<T>) => !fn(node) ? (removeNode(dic, node), false) : true)\r\n}\r\n","import {\r\n  add,\r\n  GDictionary, // eslint-disable-line no-unused-vars\r\n  linkById\r\n} from '@/utils/structure'\r\n\r\nexport interface GNodeSource {\r\n  name: string\r\n  alt?: string\r\n  links: number[]\r\n  group: number\r\n}\r\n\r\nexport interface GNodeSourceDictionary {\r\n  [id: string]: GNodeSource\r\n}\r\n\r\nexport function addAll (dic: GDictionary<GNodeSource>, sources: GNodeSourceDictionary) {\r\n  for (const [id, data] of Object.entries(sources)) {\r\n    add(dic, id.toString(), data)\r\n  }\r\n}\r\n\r\nexport function linkAll (dic: GDictionary<GNodeSource>) {\r\n  for (const node of Object.values(dic)) {\r\n    for (const linkId of node.data.links) {\r\n      linkById(dic, node, linkId.toString())\r\n    }\r\n  }\r\n}\r\n\r\nexport function initialize (sources: GNodeSourceDictionary): GDictionary<GNodeSource> {\r\n  const dic = {}\r\n\r\n  addAll(dic, sources)\r\n  linkAll(dic)\r\n\r\n  return dic\r\n}\r\n","import { groupBy } from 'rambdax'\r\nimport {\r\n  GNodeSource // eslint-disable-line no-unused-vars\r\n} from '@/utils/structure-chord'\r\n\r\nimport {\r\n  filter,\r\n  GDictionary, getChildren, getNode, GNode, joinNodes, mergeNodes // eslint-disable-line no-unused-vars\r\n} from '@/utils/structure'\r\n\r\nexport function removeBass (dic: GDictionary<GNodeSource>) {\r\n  return filter(dic, (node) => !node.data.name.includes('/'))\r\n}\r\n\r\nexport function groupByNameAlt (nodes: GNode<GNodeSource>[]) {\r\n  return Object.values(groupBy((node: GNode<GNodeSource>) => [node.data.name, node.data.alt].filter(x => x).join(','), nodes)).filter(x => x.length > 1)\r\n}\r\n\r\nexport function toBeGrouped (groups: GNode<GNodeSource>[][]) {\r\n  return groups.filter(g => canMergeGroup(g))\r\n}\r\n\r\nexport function canMergeGroup (group: GNode<GNodeSource>[]): boolean {\r\n  if (group.length === 2) {\r\n    return !(getChildren(group[0]).includes(group[1]) || getChildren(group[1]).includes(group[0]))\r\n  } else if (group.reduce((acc, node) => acc + node.children.length, 0) === 0) {\r\n    return true\r\n  }\r\n\r\n  return false\r\n}\r\n\r\nexport function mergeGroups (dic: GDictionary<GNodeSource>, groups: GNode<GNodeSource>[][]) {\r\n  groups.forEach(group => mergeGroup(dic, group))\r\n}\r\n\r\nexport function mergeGroup (dic: GDictionary<GNodeSource>, group: GNode<GNodeSource>[]) {\r\n  const maxDepth = Math.max(...group.map(({ depth }) => depth!))\r\n  const primary = group.find(({ depth }) => depth === maxDepth)!\r\n\r\n  for (const secondary of group) {\r\n    if (secondary !== primary) {\r\n      mergeNodes(dic, primary, secondary)\r\n    }\r\n  }\r\n}\r\n\r\nexport function joinAllNodes (dic: GDictionary<GNodeSource>, joints: number[][]) {\r\n  for (const [a, b] of joints) {\r\n    joinNodes(dic, getNode(dic, a.toString()), getNode(dic, b.toString()))\r\n    joinNodes(dic, getNode(dic, b.toString()), getNode(dic, a.toString()))\r\n  }\r\n}\r\n","import {\r\n  GDictionary, // eslint-disable-line no-unused-vars\r\n  GNode, // eslint-disable-line no-unused-vars\r\n  toList\r\n} from '@/utils/structure'\r\n\r\nimport {\r\n  GNodeSource // eslint-disable-line no-unused-vars\r\n} from '@/utils/structure-chord'\r\n\r\ninterface GraphLink {\r\n  source: any\r\n  target: any\r\n  value: number\r\n}\r\n\r\ninterface GraphExtra {\r\n  color: string\r\n  radius: number\r\n  alts: string[]\r\n  altsTranslate?: number[][]\r\n  active: boolean\r\n}\r\n\r\nexport function extra ({ alt, group }: GNodeSource, shapes: any): GraphExtra {\r\n  return {\r\n    active: false,\r\n    alts: !alt ? [] : alt.split(','),\r\n    color: shapes[group][0],\r\n    radius: shapes[group][4]\r\n  }\r\n}\r\n\r\nexport function mapExtra (dic: GDictionary<GNodeSource>, shapes: any) {\r\n  return toList(dic).forEach((node) => { node.extra = extra(node.data, shapes) })\r\n}\r\n\r\nexport function toSankeyLinks (array: GNode<GNodeSource>[]) {\r\n  return array.reduce((acc: GraphLink[], source: GNode<GNodeSource>) => {\r\n    acc.push(...(source.parents || []).map(target => ({\r\n      source,\r\n      target,\r\n      value: Math.max(source.extra.alts.length, target.extra.alts.length, 5)\r\n    })))\r\n    return acc\r\n  }, [])\r\n}\r\n\r\nexport function toSankey (nodes: GNode<GNodeSource>[]) {\r\n  return {\r\n    nodes,\r\n    links: toSankeyLinks(nodes)\r\n  }\r\n}\r\n\r\nexport function activate (node: GNode<GNodeSource>, value: boolean) {\r\n  node.extra.active = value;\r\n  (node.parents || []).forEach(n => { n.extra.active = value });\r\n  (<any>node).sourceLinks.forEach((n: any) => { n.active = value })\r\n}\r\n","<template>\n  <v-app ref=\"full\">\n    <v-navigation-drawer\n      v-model=\"showMenu\"\n      :mobile-break-point=\"mbp\"\n      :temporary=\"isFull\"\n      hide-overlay\n      app\n      :width=\"$vuetify.breakpoint.width > 1200 ? 368 : 240\"\n      :color=\"$vuetify.theme.dark ? 'grey darken-4' : 'grey lighten-4'\">\n      <x-settings />\n      <v-row\n        no-gutters\n        justify=\"center\"\n        align=\"center\"\n        class=\"py-5\"\n        style=\"opacity: 0.6\">\n        <span class=\"mx-3\">\n          Made in Brno, 2019, <a href=\"https://github.com/darosh/progression\">GitHub</a>\n        </span>\n      </v-row>\n    </v-navigation-drawer>\n    <v-content>\n      <v-container\n        fluid\n        :class=\"{'pa-5': (!isFull && $vuetify.breakpoint.width > 800), 'pa-0 black': !(!isFull && $vuetify.breakpoint.width > 800)}\">\n        <v-row\n          v-if=\"!isFull && $vuetify.breakpoint.width > 800\"\n          class=\"pb-5\"\n          no-gutters\n          align=\"center\">\n          <v-btn\n            fab\n            depressed\n            color=\"transparent\"\n            @click=\"showMenu = !showMenu\">\n            <v-icon>mdi-menu</v-icon>\n          </v-btn>\n          <span class=\"title ml-5\">Progression</span>\n          <v-spacer />\n          <v-row\n            style=\"position: relative;\"\n            class=\"mx-1\">\n            <v-spacer />\n            <v-flex />\n            <x-keyboard\n              :style=\"{visibility: playStatus.loading ? 'hidden' : null}\"\n              :notes=\"piano\"\n              :start=\"36\"\n              :length=\"61\"\n              no-gutters\n              class=\"d-block\" />\n            <div\n              v-if=\"playStatus.loading\"\n              style=\"position: absolute; top: 0; right: 0; opacity: 0.87\">\n              <v-progress-circular\n                indeterminate\n                :size=\"48-3\"\n                :width=\"6\"\n                color=\"accent\"\n                class=\"mr-2\" />\n              <i>Loading sounds...</i>\n            </div>\n          </v-row>\n        </v-row>\n        <v-row\n          no-gutters\n          justify=\"center\">\n          <v-card\n            :color=\"$vuetify.theme.dark ? 'grey darken-4' : null\"\n            :style=\"{borderRadius: (!isFull && $vuetify.breakpoint.width > 800) ? '24px' : 0}\"\n            elevation=\"1\">\n            <div style=\"overflow-x: auto;\">\n              <x-chart\n                ref=\"chart\"\n                v-bind=\"graphProps\"\n                :style=\"{visibility: hide ? 'hidden' : null}\"\n                :margin=\"margin\"\n                :animate=\"visible\"\n                class=\"d-block\"\n                :width=\"width\"\n                :height=\"height\"\n                :inversions=\"inversions\"\n                :inversion.sync=\"inversion\"\n                :dark=\"$vuetify.theme.dark\"\n                :format=\"format()\"\n                :node-size=\"nodeWidth\"\n                @enter=\"activate($event, true)\"\n                @leave=\"activate($event, false)\"\n                @update:recent=\"recentCount = $event\"\n                @attack=\"play\"\n                @release=\"play($event, true)\" />\n            </div>\n            <div\n              style=\"position: absolute; bottom: 0; left: 0;\"\n              class=\"pa-2\">\n              <v-btn\n                icon\n                large\n                @click=\"full\">\n                <v-icon v-text=\"`mdi-fullscreen`\" />\n              </v-btn>\n            </div>\n            <div\n              v-if=\"isFull || ($vuetify.breakpoint.width <= 800)\"\n              style=\"position: absolute; top: 0; left: 0;\"\n              class=\"pa-2\">\n              <v-btn\n                icon\n                large\n                @click=\"showMenu = !showMenu\">\n                <v-icon v-text=\"`mdi-menu`\" />\n              </v-btn>\n            </div>\n            <div\n              v-if=\"recentCount\"\n              style=\"position: absolute; bottom: 0; right: 0;\"\n              class=\"pa-2\">\n              <v-btn\n                icon\n                large\n                @click=\"$refs.chart.recent = []; recentCount = 0\">\n                <v-icon v-text=\"`mdi-close`\" />\n              </v-btn>\n            </div>\n          </v-card>\n        </v-row>\n      </v-container>\n    </v-content>\n  </v-app>\n</template>\n<script>\n/* eslint-disable no-unused-vars */\n\nimport { romanNumeral } from '@tonaljs/roman-numeral'\n\nimport XChart from '../components/Chart'\nimport XKeyboard from '../components/Keyboard'\nimport XSettings from '../components/Settings'\nimport Settable from '../components/Settable'\n\nimport { groups } from '../data/groups'\nimport { formatRoman, transposeFormatTransposed } from '../utils/format'\nimport { intervalsToMidi, invert, parseChord } from '../utils/chord'\nimport { initMidi, midiStatus, getMidiPlay, play as playMidi } from '../utils/midi'\nimport { playStatus, pianoPlay } from '../utils/piano'\nimport { initialize } from '@/utils/structure-chord'\nimport { groupByNameAlt, joinAllNodes, mergeGroups, removeBass, toBeGrouped } from '@/utils/structure-chord-ops'\nimport { filter, floodDepth, toList } from '@/utils/structure'\nimport { activate, mapExtra, toSankey } from '@/utils/structure-extra'\nimport { singleChannel } from '@/utils/midi'\n\nconst mbp = 1640\n\nexport default {\n  components: { XSettings, XChart, XKeyboard },\n  mixins: [Settable],\n  data: () => ({\n    mbp,\n    showMenu: window.innerWidth >= mbp,\n    visible: true,\n    hide: false,\n    midi: null,\n    piano: [],\n    playStatus,\n    midiStatus,\n    isFull: false,\n    recentCount: 0,\n    graphProps: {}\n  }),\n  computed: {\n    width () {\n      return this.isFull ? Math.max(800, this.$vuetify.breakpoint.width) : Math.max(800, Math.min(this.$vuetify.breakpoint.width - 48, 1200))\n    },\n    height () {\n      return this.isFull ? Math.max(480, this.$vuetify.breakpoint.height) : Math.max(480, Math.min(this.$vuetify.breakpoint.height - 120, 720))\n    },\n    margin () {\n      return this.isFull ? { top: 48, right: 48, bottom: 48, left: 48 } : { top: 32, right: 32, bottom: 32, left: 32 }\n    },\n    nodeWidth () {\n      return (this.width - this.margin.left - this.margin.right) / (12 * 1.44)\n    }\n  },\n  watch: {\n    progressionType: {\n      handler: 'draw',\n      immediate: true\n    },\n    chartSimple: 'draw',\n    chartBass: 'draw',\n    layoutPads: 'draw',\n    dark (value) {\n      this.$vuetify.theme.dark = value === true\n    }\n  },\n  created () {\n    document.addEventListener('fullscreenchange', this.fullChanged)\n    window.addEventListener('visibilitychange', this.onVisibility)\n  },\n  beforeDestroy () {\n    document.removeEventListener('fullscreenchange', this.fullChanged)\n    window.removeEventListener('visibilitychange', this.onVisibility)\n  },\n  methods: {\n    activate,\n    initMidi,\n    onVisibility () {\n      this.visible = document.visibilityState === 'visible'\n    },\n    format () {\n      if (this.formatRoman) {\n        return ({ data: { name } }) => formatRoman(name)\n      } else {\n        return ({ data: { name } }) => transposeFormatTransposed(name, this.rootNote)\n      }\n    },\n    draw () {\n      const dic = initialize(this.progressionType.map)\n\n      if (this.progressionType.joints) {\n        joinAllNodes(dic, this.progressionType.joints)\n      }\n\n      if (!this.chartBass) {\n        removeBass(dic)\n      }\n\n      const mergingCandidates = groupByNameAlt(toList(dic))\n      const mergingGroups = this.layoutPads ? mergingCandidates : toBeGrouped(mergingCandidates)\n      floodDepth(dic)\n      mergeGroups(dic, mergingGroups)\n\n      if (this.chartSimple) {\n        filter(dic, ({ data: { group } }) => group <= 1)\n      }\n\n      mapExtra(dic, groups)\n\n      const list = toList(dic)\n      list.forEach(object => { object.extra.romanChord = romanNumeral(object.data.name) })\n      this.graphProps = { sanGraph: toSankey(list), pads: this.layoutPads }\n    },\n    async play ({ node, alt, inversion }, release = false) {\n      const romanChord = alt ? { ...node.extra.romanChord, chordType: alt } : node.extra.romanChord\n      const intervals = invert(parseChord(romanChord, this.rootNote, this.rootOctave), inversion)\n      const midi = intervalsToMidi(intervals)\n\n      if (!release) {\n        this.piano = midi\n      }\n\n      if (this.midiOutput) {\n        playMidi(getMidiPlay(this.midiOutput), midi, this.channels, release)\n      } else {\n        playMidi(pianoPlay, midi, singleChannel(this.channels), release)\n      }\n    },\n    full () {\n      if (!document.fullscreenElement) {\n        this.$refs.full.$el.requestFullscreen()\n        this.isFull = true\n        this.showMenu = false\n      } else {\n        if (document.exitFullscreen) {\n          document.exitFullscreen()\n          this.isFull = false\n        }\n      }\n    },\n    fullChanged () {\n      if (!document.fullscreenElement) {\n        this.isFull = false\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/.pnpm/registry.npmjs.org/thread-loader/2.1.3_webpack@4.41.2/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/registry.npmjs.org/babel-loader/8.0.6_@babel+core@7.6.4+webpack@4.41.2/node_modules/babel-loader/lib/index.js!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/.pnpm/registry.npmjs.org/thread-loader/2.1.3_webpack@4.41.2/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/registry.npmjs.org/babel-loader/8.0.6_@babel+core@7.6.4+webpack@4.41.2/node_modules/babel-loader/lib/index.js!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=4a793578&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VContent } from 'vuetify/lib/components/VContent';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VApp,VBtn,VCard,VContainer,VContent,VFlex,VIcon,VNavigationDrawer,VProgressCircular,VRow,VSpacer})\n","<template>\n  <!--  <router-view />-->\n  <x-home />\n</template>\n\n<script>\nimport XHome from './views/Home'\n\nexport default {\n  components: { XHome }\n}\n</script>\n<style>\nhtml {\n  overflow-y: auto !important;\n  user-select: none;\n}\n\nhtml .v-application *, html .v-application .title, html .v-application svg * {\n  font-family: \"M PLUS Rounded 1c\", sans-serif !important;\n}\n\nhtml .v-application .title {\n  opacity: 0.6;\n  font-size: 22px !important;\n}\n</style>\n","import mod from \"-!../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/.pnpm/registry.npmjs.org/thread-loader/2.1.3_webpack@4.41.2/node_modules/thread-loader/dist/cjs.js!../node_modules/.pnpm/registry.npmjs.org/babel-loader/8.0.6_@babel+core@7.6.4+webpack@4.41.2/node_modules/babel-loader/lib/index.js!../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/.pnpm/registry.npmjs.org/thread-loader/2.1.3_webpack@4.41.2/node_modules/thread-loader/dist/cjs.js!../node_modules/.pnpm/registry.npmjs.org/babel-loader/8.0.6_@babel+core@7.6.4+webpack@4.41.2/node_modules/babel-loader/lib/index.js!../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4eca8205&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Vuetify from 'vuetify'\nimport 'vuetify/dist/vuetify.min.css'\n\nVue.use(Vuetify)\n\nexport default new Vuetify({\n  icons: {\n    iconfont: 'mdi'\n  },\n  theme: {\n    themes: {\n      dark: {\n        accent: '#00d639'\n      },\n      light: {\n        accent: '#00d639'\n      }\n    }\n  }\n})\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\n// import router from './router'\r\nimport vuetify from './plugins/vuetify'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  // router,\r\n  vuetify,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","import mod from \"-!../../node_modules/.pnpm/registry.npmjs.org/mini-css-extract-plugin/0.8.0_webpack@4.41.2/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/.pnpm/registry.npmjs.org/css-loader/1.0.1_webpack@4.41.2/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.pnpm/registry.npmjs.org/postcss-loader/3.0.0/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Chart.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/.pnpm/registry.npmjs.org/mini-css-extract-plugin/0.8.0_webpack@4.41.2/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/.pnpm/registry.npmjs.org/css-loader/1.0.1_webpack@4.41.2/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.pnpm/registry.npmjs.org/postcss-loader/3.0.0/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Chart.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/.pnpm/registry.npmjs.org/mini-css-extract-plugin/0.8.0_webpack@4.41.2/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/.pnpm/registry.npmjs.org/css-loader/1.0.1_webpack@4.41.2/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.pnpm/registry.npmjs.org/postcss-loader/3.0.0/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Keyboard.vue?vue&type=style&index=0&id=3dbbd7cc&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/.pnpm/registry.npmjs.org/mini-css-extract-plugin/0.8.0_webpack@4.41.2/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/.pnpm/registry.npmjs.org/css-loader/1.0.1_webpack@4.41.2/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.pnpm/registry.npmjs.org/postcss-loader/3.0.0/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Keyboard.vue?vue&type=style&index=0&id=3dbbd7cc&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/.pnpm/registry.npmjs.org/mini-css-extract-plugin/0.8.0_webpack@4.41.2/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/.pnpm/registry.npmjs.org/css-loader/1.0.1_webpack@4.41.2/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.pnpm/registry.npmjs.org/postcss-loader/3.0.0/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Recent.vue?vue&type=style&index=0&id=1a3684d9&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/.pnpm/registry.npmjs.org/mini-css-extract-plugin/0.8.0_webpack@4.41.2/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/.pnpm/registry.npmjs.org/css-loader/1.0.1_webpack@4.41.2/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.pnpm/registry.npmjs.org/postcss-loader/3.0.0/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/.pnpm/registry.npmjs.org/vuetify-loader/1.3.0_f21d4d5a7bd3b6ce0a8c35138de28373/node_modules/vuetify-loader/lib/loader.js!../../node_modules/.pnpm/registry.npmjs.org/cache-loader/2.0.1_webpack@4.41.2/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/.pnpm/registry.npmjs.org/vue-loader/15.7.1_css-loader@1.0.1+webpack@4.41.2/node_modules/vue-loader/lib/index.js??vue-loader-options!./Recent.vue?vue&type=style&index=0&id=1a3684d9&scoped=true&lang=css&\""],"sourceRoot":""}